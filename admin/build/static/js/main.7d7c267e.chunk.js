(this.webpackJsonpReact=this.webpackJsonpReact||[]).push([[0],{164:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAYAAAA+stv/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkE5MjM5NjI1QTk4MTFFOEFFRjZBMDIxNTFCNEZEN0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkE5MjM5NjM1QTk4MTFFOEFFRjZBMDIxNTFCNEZEN0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTkyMzk2MDVBOTgxMUU4QUVGNkEwMjE1MUI0RkQ3RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTkyMzk2MTVBOTgxMUU4QUVGNkEwMjE1MUI0RkQ3RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjNJvJoAAAJtSURBVHjaxJhNSBVRFMfnje9BIukrNJFASCQk2rgLd+mmQlRITEgEJVTQRYLgQu2poBAlCIHoog+iRUYbe0YK4tqdC9GF6cICTdq9hYpf0//AfY/L4c6dO+9juvDjMGfu3PP/37kzd94LOY5jya0wsW1l0hKFtz37oEYUYQq8t62AG4o3IWyCTnAtHGDhEoQ34ImULrIDKv4UYYsVpxYN57jwTYRZUO/SpSico8IhhGfgNR1qumZ/BlD8FsJbcN+ge9ZnoBSsgArD/tFsL8JDcBf0gz//QwC9iI7BtJiFYeDobkHOHkMSgnAVhAKdAWkxFiP0sfRP8DuoF9EAKGC5DlAJesAuzUDIcDN6BX6AVZPNCGOUCbeygGWceyDVoSewzWQGSPFzsAhqDd0PKtyPMqHn4IOJAFrJpDbfRIRw383S5H5N1d82cN8mHZuIIPdXdO79CCD3eSynE6FyH3dz7yWAu+civoMGlh9SuI/pHOoEjCvcy40KfZVElIMu1mcB7td1Atw2ozugleXmwQ22y0WEiGbwSBzLbcxrhbu9Bz6zr5cLUAX2wTdQx8Y5kwTJ7pu8BNgu7ltY7hPYAUfCaZydj7Di5GrE5IWhEvCCbSBnbCGdiimPa8b9AvcbvgVg+qsV7t+BPZbTiXDEArbSmYGYwv2ky7VuIsj9lm8Bwn2jwv0vzfVJEQvpuOePYUyxsicNxiARj8FHcOnHfUqAi/sZD/cWe0zbwXW/Hw3JWzDB8ifgpc+xSMRf3wLg/h7iQ5afAwdB/GyzFVtlOu4zErDEvuEDc5/aC3Ab8sU+3gtq0rmXfv6gkNs/AQYA+SqqCl6XS0EAAAAASUVORK5CYII="},429:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAZCAYAAAC7MQL+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAw1SURBVHgB7V0LjF1FGf624qNYKIIWLAK1VBAfgAjSQpXFUqpYNNZEUFERovERY/BJ4iNqNBpRAolBND54RVEMCkmLfVCWXUoLtbQCllIKrNSWQqsUbZGywPX7OHPbs2fnnPnP3TNzCemX/Ht358w9Z87MP//8r5kFHFqt1sGkR1tp8HN4wPIppCWtuPg1aU/Ps08i7WilxSDpMPf88aT5rTRY2fL3wWLj98/xfLeHdEkrPX5XwktnkZ5upYXGb59cGyaTNrfiY03h3c9upX93vedRKEEr4+8/tuJjC+mAMe6h+ryA9CrEx7OkRfC8OD8uIk1DXJxK2rfw7LH8uJD0EqTFROx630+Q3ok0GOjp6XkiX+D639L3Q6S/esqnk85Besxm24eNG/+ewI/vkV6EtDiRNMG1YQ9+/Ij0SsTHje1f+NwD0Z1313tO911gm17Mj5+SPoD4uIv0yBj3x/sSPVR4nLQ0X8AX7+HHJ0mzSD2ICwmTIrOdSzoG6aEBP4Lvvx8/zyPtgTSY7yk7mfQyhLGF9GC+oJVpf18nvRTpMY40GbvaIv75FukQpMfLc22ZQ3o/0uA5RcG9+w9IB6I7eFNJ+cdIH0EaLOKi3RrjmPInSCfh7yZtKJQdRPoU0kxsDf4r2n/w/aWlfgndgwStJuLBSAMtLD6N6x2w4XYyzn8LZZrEvegeJuZ+l9Z0LrqHieSp/ZFpa2MQH9Kg+93vskbORPdwQLGAfbEXP76I+ApLGwP6IUHybtJmRylwtSRqoWwmslXmf0iDPMN9iPQvR92AtLajSbcjDaRt+d5VAn514Lsatz8NK8i0TY3f3egehlxbZJJ+mPR3dA8S+rI+tiPcn01gNedTezxPJ61E97DJU3Yssj5Jxd+r9EMOX6nPKe3xHRyIHfkC5+NK4Yto42G24Wn37L2RbjUpQwsJwXf/T7GM/SAt1tIPT/D7Txa+2+0+3P48Gk/5LsclbMOQNGhnhu6FLqPIW2yX3BupfNctjzWxG7uxG7vxwoBpVXERszcbqq6lxHwUNeBs8P0NVbfy3lsq7iOzWr66kPa5jffZVPiuzLAjkB5a3Vd4TPNhYPv0TjJXx6IaG3ivB1ETvP+h/Hi1oWrp/XkP9V+KqHoRD7FNgxjelklI57PMQ+6cNRpPZ6KfgLh+Y1key/IFfK4sn7cgPZ4hLctH250VcCSasQifQuabX9/Wzqtg7fTTSL8I1FEaRy+plmAjzkbmPA9BDsgrK64fTlqIzGdVBQVKflgok7P5G0iPW5D5OENQrtt1pPEVdSQczyddghpwJozyCo8PVSV9jfQzzz1kaihV50Skx2dJg9jVFk0i9cNZSI8fc9J92/2uTAP1VUyTVLy8rFD2QbUD6bGRNJuUz6k7jnQ1momWS3DKB7+JY9zHz2vY17eUVQ4KNscoyq8aF6j6AHIMZoGzv5VmEPKvyadzW6DODIS1Dk1OX2dMRRaqTwkN1PyQtuYgoaPIX9UkkW/jLtSH0iKkDYbGV9HUv5Vcm0SagvR9KEZfUChTguy0LrRFGkVeyJyC+L6lm/N/uPmkeRDS7GPgTtJDnnK1qan2yLpTnqC0wI/yfT/D+fN7X0VLOFqMcpKhnkLOj6MepKq+3VBPQm1D2UUXfJiNMHSP1YXv6v3eivRYS/qNsa6iXaGVX5pyJ5GnXuTSXyrwMGl5yTUx2muRHhcV3QrI8sgsbpOm0e+o7bqZjriQybe4UCbz92Skh3jvu8Wkb2TR0KDZ2CHEs79lX3vTWyyCTQw7xVDvJr7Ys6gHJcVaoqH9vPf2iuvy7bwNYSgNYGuhTOHofZEW20jn8Z22hio6wXscwhgoRpuNUKqGhQ80vkMl15Q/lToSKe3x+57ymV1oi4Tr+bmJLb7eD3Gh8X6qUCaBblmkmoS05q+wLas81+SP3Y54EN9ezjkyzXchBKnUIUaRqbgENeB8OzMtVUl/CdTR6jgeYSzwCF99d0+kw2Okj7Md8431rZPkJtQEx0Dm5wmGqkNl968heJvECtKs4mLnTDGLBdAk1pPOZFtW5MrUp7F5qs9TZhnLJqEF+vMo8X07bbqWXOgAMvc/XSysFGxkFDn9LIyi1bNu0ED2smVvonx3awN13oUwNAj9nnKLcG0Kt5KmcsCvrfEdq+BdjvqQ0LREMqVZlpm5hzpKAWkHClLMYB8+4rkubSWVkJW2dAVpGttyc+HaDMSHb/eIJRDVFO4hzea7/yrgJ/4mKtxIDWHErplQ8EAm2rEIQz6wbagHpXgcZagnh+xjgTqWaNx9jnaCgltm9usQF1rRpXFeSQYYQH1YBK/6JyT8fZDQtDjZ72Xb/1FyTYGXmImh0haVTf9nZH34z4q68pXGNAGl7d9Pmku6lG25t1iBPKUgzxsQF/JlF0/00HxKud/5Wo9AHwHWuYdtk6BXRF1BSAX4mg6qHCJtPZ84HhJsYtoJgTqS1nON0b08tOHdEga+jvd+puwiX0hpHpMRxkLepxjckDYa8kmImS+FTSNSXa3kEvLKabq/KvcuBPduhxmq3lDXv+lOdDndWP36knuIQS1aQttksUDvIQaVliitbF3Av9pui1wblveR1qeN4usNdYttGfTwUBFaZPeBDVqQvor6DvZ/Y+QWSB1iYXEtXUOaZ6inDfzvrbg+h31+gaE/4BYA08kvbhxlAVyFcArSzkcgk1M7o7IhwWbRFrRPrdY+QZdCYjFxde+QQHkPwpBT1+cj0koS6gOlUVzMwelEIxotpC1bnME3oj6kqVoWBPVdWb6QkmAPRxgK/lyGuLC6NuTQvqJCAx0tZBZZ87b62I5fohlY5oGCS1fxmdeHKnKOhk7jkOalhPi6mRCVcArSOj5f+W9WwSYMSwIulfBuR8BUhCFGCUb3CpDT+vWGevIjhDbnW9I8JJTuzBc4x7nl/dY56gYk2EIJx2KETgSbosiWaLAcwGX5axrDSQjDGigZDXSIgmX3iNJ9LNpabTgN1hq80LgtQANw+70tKVmaq8FcR7ffNpSuIoXAcsxVp6ib+zYs1aRKWxGjvBFhrPTkr4QwFrYzo26rMkM4AFo1QpGg5yY+77OxUK6kVMtWroUdpLGMGi7CZ8nHuq9D7UP+DsvOkyUV49truEdjEziAY4xtWRRxPCXoX2OsqxyvW9EMemHzlWqBsvCKeCMktDQvnywWumPQQotxFaR5yZqYU+M7asewE2uqGEErQMjJJwapnWbg7ru3oV771AIfpO5bDjdUROYPnvLjDW2Qv6yT92sCk2CLNi5CTdRI8/CeduzuofQai6kgv9QaxIdF+xbzr0A8KHhhSTsSZBbOYD9az8FrQwtN8WgiixmqsZxnFOqnGerIP+iz1BQFHU2mgWSSgnoW+dDG8uL+0SrBNgthKBt9FTqDpYO/jMwc8zlXlaYQ6kA9QyH5O/KFTljK6R3Kz5PDuJM0iiag00gPMtQL5fj5oE3SFs1C/sUy/5r8cxZ3wlxEhhtPC7/KiR3TVypBb91/Lf69EPUx7Mw1d/iDxR2jaPKyUCV3P0tASArD5sJ3pa2dgfS7UC4rFlQNgsURKyZ5APWhEL5Mw1AHyFQ8A51Dk/LinpGnAciEtZyAsMSyOyASlM0fOhVBKngf6qMXttw4CYKy00Lko7PsGoku2JAFMCxpOwO+s+iagJvUlvSl0cAXTBMfWxZACUPLXJXWaVn07vDsdNF8Tn0suXYTjfiHPt7ggcvvsviffNs6LBBzxdaEBpFtW/IlDiuJ0xKST+EbGoEa2fy+Y7pD95Z2c6qx+nJfGo9LFTnF8H3xRie5e3VhMX1iuxV0mIAlyjwayIwunn5sMUM1hvN6DMf9wKatKf1qsadc1lXKf4ikhf0LfK8RJ2+XRUUt++3EKMEEPR9cQEAmYt2ggxWy/z+H8mOSNSlDOT8SGLG3g5RBe3Mtk6S2fw2ZCWQJCglLS8p1tv2RCGO1JQetAVgEtSKhMY/qlrYW+zy6Po9wsvjDJAyXwgaLoNwE/z9ksi6YTUDC+jvsD29GQJVgC0GMMhp/RR8yH0MnGl8VlNahLVY3lGgbMr8t/+ZOanu30jwsgQ2hE8GmhF+Ltlq2KrfvYfkvUP2IDBc9tjjgleawEfGgnMiYm+9HpPW4XQ4Wl4rMtSAvu4DQ0QhjkScxdwLSHXAp3rwcFefO/R/mgX3wquGWRwAAAABJRU5ErkJggg=="},447:function(e,t,a){e.exports=a(922)},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},594:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAYAAAA+stv/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUJENUZGOUQ1QTk4MTFFODk3NjNGRUU3OTg0MkYwMEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUJENUZGOUU1QTk4MTFFODk3NjNGRUU3OTg0MkYwMEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFQkQ1RkY5QjVBOTgxMUU4OTc2M0ZFRTc5ODQyRjAwQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFQkQ1RkY5QzVBOTgxMUU4OTc2M0ZFRTc5ODQyRjAwQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PitEboAAAAKPSURBVHjaxJc9aBRBFMffnlH8qINaqIVWEYsUgq0oKKikERstxELFD7gTRb1L7ttoTLhLJIKxUBAFlRQqol3sxC6NWImCoIcfoFHkRGPO/7u8wDA3t7MTsuODH7sz7O78/2/n7c4EjUaDnKJcJuJbZgIcFWZIaZvOm8dOHJ8TBVdxHKNqqp4gv5EBG0AVvKHUcNKngNXgiNJeBXb6FHAWLNX68on/5J7jKVWTL+YjoBMsWgD3PB9oPgIq4JaDiLXgmNb3EBUwyScdTkP3l7pQQvtxhrqiFWAf+G25Kw0Wa32FuRPXDGRlcI4eMA6WWNwfanFfmXXvJuBisUscq7HHIkJ331Ddu2ZAdR9FxDqD+/tUOTXpLuBSYZPBvU1EweC+qN8YNQMlzf0fQRfxBCyXz+2BFvdEr/QH26vgcr4bY/dovTdksHHN5TbwGHzSytToPmoZ5rQ2O+8H78Beg4ithmfcNbm3v4LBXLeUmxrXZXCORyLiV8hT/soEJncBWsnIQBe0PhaxC9TbPOM2eO0uYCi7RSaWGmOgZrh6Auw2iGD35TCHYRnIG9wPhFxvEhHqvr2AStP9jhb36b6a5ZWpIqZt7mcFXMkcpJFMh8X9T4t7k4hhm/u5MrwGemmkdxDVehMLx82oe939KJ3P1ih6TAgURcA3sF6EZAwlxe6H4loqsYApsFLaawzXjNK53Je4BCQkA+2CP6E/8DNaFncG2kUgM/kE1gMDmB/4DgR1nxlQ1/C8mXipvC6vAjiege3g40ILmLJc8x0cbv5q031v45gDYRngf/tRVMF735OQyy5JZwp34t4ymTJwD5yk08XPPvZsagY+gOOUKj3wuV/nSfhV1ngbKVn2OjjHPwEGAHearjW9mVNhAAAAAElFTkSuQmCC"},673:function(e,t){},675:function(e,t){},704:function(e,t){},705:function(e,t){},750:function(e,t){},752:function(e,t){},775:function(e,t){},922:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(11),r=a.n(o),i=(a(452),a(453),a(454),a(455),a(456),a(457),a(17)),l=a(18),c=a(21),d=a(19),u=a(20),m=a(52).a({basename:"admin"}),p=a(37),h=a(25),g=a(932),f=a(934),E=a(9),b=a(64),v=a(48),S="REQUEST",C="SUCCESS",D="FAILURE",y="http://localhost:3020/",w=y+"api/",O=y+"app/uploads/teamlogo/";function k(e,t){return{type:e,payload:t}}function T(e){return[S,C,D].reduce((function(t,a){return t[a]="".concat(e,"_").concat(a),t}),{})}var N=function(e,t){return{"Content-Type":t,Authorization:localStorage.access_token?"".concat(localStorage.access_token):""}},j={post_login:T("POST_LOGIN")},I=a(5),P=a.n(I),A=a(8),R=a.n(A),U="Do you want to delete this record?",V="user/listUser",M="season/getSeasonList",x="team/getTeamList",_="round/listRounds",G="game/listGames";new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function F(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}localStorage.access_token;var B=g.a.Item,q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n={email:t.email,password:t.password,isAdmin:!0};a.props.loginAction(n)}}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"gx-login-container"},s.a.createElement("div",{className:"gx-login-content"},s.a.createElement("div",{className:"gx-login-header"},s.a.createElement("img",{src:"",style:{width:100,borderRadius:5},alt:"",title:""})),s.a.createElement("div",{className:"gx-mb-4 gx-text-center"},s.a.createElement("h2",null,"Login")),s.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"gx-login-form gx-form-row0"},s.a.createElement(B,null,e("email",{rules:[{type:"email",message:"The input is not valid email"},{required:!0,message:"Please enter your email"}]})(s.a.createElement(f.a,{prefix:s.a.createElement(E.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),s.a.createElement(B,null,e("password",{rules:[{required:!0,message:"Please enter your password"}]})(s.a.createElement(f.a,{prefix:s.a.createElement(E.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),s.a.createElement(B,null,s.a.createElement(v.a,{to:"/forgot"},"Forgot Password?")),s.a.createElement(B,{className:"gx-text-center"},s.a.createElement(b.a,{type:"primary",style:{width:"100%"},htmlType:"submit"},"Login")))))}}]),t}(n.Component);var L=g.a.create({name:"login"})(q),Q=Object(h.b)((function(e){}),{loginAction:function(e){return function(t){P.a.post(w+"f/user/userAdminLogin",e,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("LOGIN_RES",e),200===e.data.code?(t(k(j.post_login.SUCCESS,{errorMessage:null,access_token:e.data.data.token,authData:e.data.data})),localStorage.setItem("access_token",e.data.data.token),m.push("/dashboard"),R.a.success(e.data.message)):R.a.error(e.data.message)})).catch((function(e){console.log("LOGINRES",e)}))}}})(L),Y=a(203),W=function(e){var t=e.component,a=e.user,n=Object(Y.a)(e,["component","user"]);return s.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?s.a.createElement(p.a,{to:{pathname:"/"}}):s.a.createElement(t,Object.assign({user:a},e))}}))},H=function(e){var t=e.component,a=e.user,n=Object(Y.a)(e,["component","user"]);return s.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?s.a.createElement(t,Object.assign({user:a},e)):s.a.createElement(p.a,{to:{pathname:"/"}})}}))},Z=a(935),J=a(928),X=a(136),z=a(72),K=a(931),$=a(936);var ee=function(e){var t=e.visible,a=e.handleOk,n=e.handleCancel,o=e.title,r=e.backBtnText,i=e.submitBtnText,l=e.children;return s.a.createElement(Z.a,{visible:t,title:o,onOk:a,onCancel:n,footer:[s.a.createElement(b.a,{key:"back",onClick:n},r),s.a.createElement(b.a,{key:"submit",type:"primary",onClick:a},i)]},l)},te=(a(594),a(164)),ae=a.n(te),ne={get_sport:T("GET_SPORT"),admin_counts:T("GET_ADMIN_COUNT"),get_team:T("GET_TEAM"),get_teamDetails:T("GET_TEAM_DETAIL"),get_bonus:T("GET_BONUS"),get_round:T("GET_ROUND"),get_game:T("GET_GAME"),get_topic:T("GET_TOPIC"),get_question:T("GET_QUESTION"),get_content:T("GET_CONTENT"),get_competition:T("GET_COMPETITION"),get_user:T("GET_USER"),get_setting:T("GET_SETTING"),get_adreport:T("GET_ADREPORT"),get_ad:T("GET_AD"),get_comp:T("GET_COMP"),get_season:T("GET_SEASON"),get_seasonDetails:T("GET_SEASON_DETAIL")};localStorage.access_token;function se(e){return function(t){P.a.post(w+"sport/listSport",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_sport.SUCCESS,{sportData:e.data.data,sportCount:e.data.totalCount}))}))}}function oe(e){return function(t){P.a.post(w+"sport/addupdateSport",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){console.log("response isssssss",e),R.a.success(e.data.message),P.a.post(w+"sport/listSport",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_sport.SUCCESS,{sportData:e.data.data,sportCount:e.data.totalCount}))}))}else 201===e.data.code&&(console.log("response isssssss",e),R.a.warning(e.data.message))}))}}function re(e){return function(t){P.a.post(w+"sport/deleteSport",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"sport/listSport",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_sport.SUCCESS,{sportData:e.data.data,sportCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}function ie(e){return function(t){P.a.get(w+"ladder/updateUserCompPoints",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code?R.a.success(e.data.message):201===e.data.code&&R.a.warning(e.data.message)}))}}function le(e){return function(t){P.a.post(w+x,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_team.SUCCESS,{teamData:e.data.data,teamCount:e.data.totalCount}))}))}}function ce(e){return function(t){P.a.post(w+_,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_round.SUCCESS,{roundData:e.data.data,roundCount:e.data.totalCount}))}))}}function de(e){return function(t){P.a.post(w+"topic/listTopic",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_topic.SUCCESS,{topicData:e.data.data,topicCount:e.data.totalCount}))}))}}function ue(e){return function(t){P.a.post(w+M,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_season.SUCCESS,{seasonData:e.data.data,seasonCount:e.data.totalCount}))}))}}function me(e){return function(t){P.a.post(w+"season/addSeason",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+M,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_season.SUCCESS,{seasonData:e.data.data,seasonCount:e.data.totalCount}))}))}else 201!==e.data.code&&400!==e.data.code&&409!=e.data.code||R.a.error(e.data.message)}))}}function pe(e){return function(t){P.a.post(w+"season/deleteSeason",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.warning(e.data.message);P.a.post(w+M,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_season.SUCCESS,{seasonData:e.data.data,seasonCount:e.data.totalCount}))}))}else 201==e.data.code&&R.a.warning(e.data.message)}))}}var he=a(14),ge=a.n(he),fe=(Z.a.confirm,J.a.RangePicker),Ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOk=function(){a.props.form.validateFields((function(e,t){if(!e){var n={settingId:a.state.settingData._id,currentDate:t.date,isTesting:a.state.isTesting};a.props.addSetting(n)}}))},a.showModal=function(){a.setState({visible:!0,isTesting:a.state.settingData.isTesting,currentDate:a.state.settingData.currentDate})},a.onTestingChange=function(e){console.log("switch to ".concat(e)),a.setState({isTesting:e})},a.disabledDate=function(e){return e<ge()(a.state.currentDate,"YYYY-MM-DD")},a.state={userCount:0,sportCount:0,competitionCount:0,currentPage:0,sortValue:"",sortOrder:"",visible:!1,modelVisible:!1,isTesting:!1,currentDate:"",settingData:{},newSeason:!1,sportData:[],seasonData:[],loading:!0,viewModalVisible:!1,viewSeasonData:"",seasonCount:0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(e),this.props.getUsers(e),this.props.getCompetitions(e),this.props.getSetting({type:"testing"}),this.props.getSeason(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({userCount:e.userCount,sportCount:e.sportCount,competitionCount:e.competitionCount,settingData:e.settingData,SeasonCount:e.seasonCount});var t=e.seasonData;this.setState({seasonData:t,loading:!1})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,null,s.a.createElement(X.a,{gutter:16},s.a.createElement(z.a,{className:"gutter-row",span:6},s.a.createElement("div",{className:"gutter-box"},s.a.createElement(K.a,{hoverable:!0,className:"mb-4"},s.a.createElement($.a,{title:"Total Users",value:this.state.userCount,precision:0,valueStyle:{color:"#F9897F"},prefix:s.a.createElement("img",{alt:"trade",src:ae.a})})))),s.a.createElement(z.a,{className:"gutter-row",span:6},s.a.createElement("div",{className:"gutter-box"},s.a.createElement(K.a,{hoverable:!0,className:"mb-4"},s.a.createElement($.a,{title:"Total Sports",value:this.state.sportCount,precision:0,valueStyle:{color:"#8884d8"},prefix:s.a.createElement("img",{alt:"trade",src:ae.a})})))),s.a.createElement(z.a,{className:"gutter-row",span:6},s.a.createElement("div",{className:"gutter-box"},s.a.createElement(K.a,{hoverable:!0,className:"mb-4"},s.a.createElement($.a,{title:"Total Competitions",value:this.state.competitionCount,precision:0,valueStyle:{color:"#82ca9d"},prefix:s.a.createElement("img",{alt:"trade",src:ae.a})})))),s.a.createElement(z.a,{className:"gutter-row",span:6},s.a.createElement("div",{className:"gutter-box"},s.a.createElement(K.a,{hoverable:!0,className:"mb-4"},s.a.createElement($.a,{title:"Total Season",value:this.state.SeasonCount,precision:0,valueStyle:{color:"#82ca9d"},prefix:s.a.createElement("img",{alt:"trade",src:ae.a})}))))),s.a.createElement(X.a,{gutter:16}),s.a.createElement(ee,{handleCancel:this.onCancel,handleOk:this.onDone,visible:this.state.modelVisible,title:"New Season",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Season Name"},e("seasonname",{rules:[{required:!0,whitespace:!0,message:"Please enter Season Name"}]})(s.a.createElement(f.a,{placeholder:"Season Name"}))),s.a.createElement(g.a.Item,{label:"Select start date and end date"},e("date",{rules:[{required:!0,message:"Please enter date range"}]})(s.a.createElement(fe,{disabled:this.state.isRoundUpdate,placeholder:"Date"})))))))}}]),t}(n.Component);var be=g.a.create({name:"setting"})(Ee),ve=Object(h.b)((function(e){return{sportCount:e.admin.sportCount,userCount:e.admin.userCount,competitionCount:e.admin.competitionCount,settingData:e.admin.settingData,seasonData:e.admin.seasonData,seasonCount:e.admin.seasonCount}}),{getSport:se,getUsers:function(e){return function(t){P.a.post(w+V,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_user.SUCCESS,{userData:e.data.data,userCount:e.data.totalCount}))}))}},getCompetitions:function(e){return function(t){P.a.post(w+"competition/listCompetition",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_competition.SUCCESS,{competitionData:e.data.data,competitionCount:e.data.totalCount}))}))}},getSetting:function(e){return function(t){P.a.post(w+"setting/getSetting",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_setting.SUCCESS,{settingData:e.data.data}))}))}},addSetting:function(e){return function(t){P.a.post(w+"setting/addupdateSetting",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"setting/getSetting",{type:"testing"},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_setting.SUCCESS,{settingData:e.data.data}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},clearSession:function(){return function(e){P.a.post(w+"setting/clearCurrentSession",{},{headers:N(0,"application/json")}).then((function(t){200===t.data.code&&(console.log("clearSession Response ",t),R.a.success(t.data.message),e(k(ne.get_setting.SUCCESS,{settingData:t.data.data})))}))}},getSeason:ue,addSeason:me,removeSeason:pe})(be),Se=a(442),Ce=a(925),De=a(926),ye=a(428),we=Ce.a.Header;var Oe=function(e){var t=s.a.createElement("div",null,s.a.createElement("p",{onClick:function(){return l()}},s.a.createElement(v.a,{to:"/"},"Logout"))),a=(s.a.createElement("div",null,s.a.createElement("p",null,"Notifications")),Object(n.useState)(!1)),o=Object(Se.a)(a,2),r=o[0],i=o[1];function l(){i(!r)}return s.a.createElement(we,null,s.a.createElement(E.a,{className:"trigger",type:e.collapsed?"menu-unfold":"menu-fold",onClick:e.toggle}),s.a.createElement("span",{style:{float:"right"}},s.a.createElement("span",null,s.a.createElement(De.a,{placement:"bottomRight",visible:r,onVisibleChange:function(){return l()},content:t,trigger:"click"},s.a.createElement(ye.a,{src:"http://via.placeholder.com/150x150",className:"gx-size-50 gx-pointer cursor-pointer",alt:""})))))},ke=a(134),Te=a(429),Ne=a.n(Te),je=Ce.a.Sider,Ie=ke.a.SubMenu,Pe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname;return s.a.createElement(je,{trigger:null,collapsible:!0,collapsed:this.props.collapsed},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:Ne.a,alt:"toptippers"})),s.a.createElement(ke.a,{theme:"dark",mode:"inline",selectedKeys:[t]},s.a.createElement(ke.a.Item,{key:"/dashboard",onClick:function(){return e.props.history.push("/dashboard")}},s.a.createElement(E.a,{type:"dashboard"}),s.a.createElement("span",null,"Dashboard")),s.a.createElement(ke.a.Item,{key:"/users",onClick:function(){return e.props.history.push("/users")}},s.a.createElement(E.a,{type:"user"}),s.a.createElement("span",null,"Manage User")),s.a.createElement(ke.a.Item,{key:"/messaging",onClick:function(){return e.props.history.push("/messaging")}},s.a.createElement(E.a,{type:"user"}),s.a.createElement("span",null,"Messaging")),s.a.createElement(Ie,{key:"/sport",title:s.a.createElement("span",null,s.a.createElement(E.a,{type:"appstore"}),s.a.createElement("span",null,"Master"))},s.a.createElement(ke.a.Item,{key:"1",onClick:function(){return e.props.history.push("/season")}},"Manage Season"),s.a.createElement(ke.a.Item,{key:"1",onClick:function(){return e.props.history.push("/sport")}},"Manage Sport"),s.a.createElement(ke.a.Item,{key:"2",onClick:function(){return e.props.history.push("/team")}},"Manage Team"),s.a.createElement(ke.a.Item,{key:"4",onClick:function(){return e.props.history.push("/round")}},"Manage Round"),s.a.createElement(ke.a.Item,{key:"5",onClick:function(){return e.props.history.push("/game")}},"Manage Game"),s.a.createElement(ke.a.Item,{key:"6",onClick:function(){return e.props.history.push("/competition")}},"Manage Competition")),s.a.createElement(Ie,{key:"/cms",title:s.a.createElement("span",null,s.a.createElement(E.a,{type:"appstore"}),s.a.createElement("span",null,"CMS"))},s.a.createElement(ke.a.Item,{key:"1",onClick:function(){return e.props.history.push("/topics")}},"Topics"),s.a.createElement(ke.a.Item,{key:"2",onClick:function(){return e.props.history.push("/questions")}},"Questions"),s.a.createElement(ke.a.Item,{key:"3",onClick:function(){return e.props.history.push("/content")}},"Content")),s.a.createElement(Ie,{key:"/ad",title:s.a.createElement("span",null,s.a.createElement(E.a,{type:"appstore"}),s.a.createElement("span",null,"Ad Management"))},s.a.createElement(ke.a.Item,{key:"1",onClick:function(){return e.props.history.push("/ads")}},"Ads"),s.a.createElement(ke.a.Item,{key:"2",onClick:function(){return e.props.history.push("/adreport")}},"Report"))))}}]),t}(s.a.Component),Ae=Object(p.g)(Pe);Ce.a.Footer;var Re=Ce.a.Content,Ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props;return s.a.createElement(Ce.a,null,s.a.createElement(Ae,{trigger:null,collapsible:!0,collapsed:this.state.collapsed}),s.a.createElement(Ce.a,null,s.a.createElement(Oe,{collapsed:this.state.collapsed,toggle:this.toggle,user:e}),s.a.createElement(Re,{style:{padding:24}},this.props.children)))}}]),t}(s.a.Component),Ve=a(927),Me=a(937),xe=a(440),_e=a(929),Ge={get_users:T("GET_USER"),get_userDetails:T("GET_USER_DETAILS")};localStorage.access_token;function Fe(e){return function(t){P.a.post(w+"user/deleteUser",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(R.a.success(e.data.message),P.a.post(w+V,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))})))}))}}function Be(e){return function(t){P.a.post(w+"user/verifyUser",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(R.a.success(e.data.message),P.a.post(w+V,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))})))}))}}function qe(e){return function(t){P.a.post(w+"user/deActivateUser",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(P.a.post(w+V,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data}))})),R.a.success(a.data.message)):R.a.error(a.data.message)}))}}function Le(e){return function(t){P.a.post(w+"user/addUser",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+V,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}var Qe=Z.a.confirm,Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n){a.setState({visible:!0,bonusId:e}),a.props.form.setFieldsValue({bonusname:t,description:n})},a.handleChange=function(e){"uploading"!==e.file.status&&"done"===e.file.status&&F(e.file.originFileObj,(function(t){return a.setState({imageUrl:t,fileObj:e.file.originFileObj,changeImage:!0})}))},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(console.log("value",t,a.state.fileObj),!e){a.setState({visible:!1});var n=new FormData;n.append("name",t.name),n.append("email",t.email),n.append("password",t.password),n.append("file",a.state.fileObj),a.props.addUser(n)}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,search_string:"",userData:[],sortValue:"",sortOrder:"",visible:!1,imageUrl:"",fileObj:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={search_string:this.state.search_string,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getUsers(e)}},{key:"searchString",value:function(e){this.setState({search_string:e.target.value});var t={search_string:e.target.value,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getUsers(t)}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={search_string:this.state.search_string,page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getUsers(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={search_string:this.state.search_string,page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getUsers(t)}},{key:"showConfirm",value:function(e){var t=this,a={userId:e};Qe({title:U,content:"",onOk:function(){t.props.deleteUser(a)}})}},{key:"showVerificationConfirm",value:function(e){var t=this,a={userId:e};Qe({title:"Do you want to verified this account?",content:"",onOk:function(){t.props.verifyUser(a)}})}},{key:"deActivateUser",value:function(e){var t={userId:e};this.props.deActivateUser(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.userData;this.setState({userData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.imageUrl?a.imageUrl:"",o=a.userData.map((function(t,a){if("user"==t.role.rolename||"kingbot"==t.role.rolename)return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.email),s.a.createElement("td",null," ",s.a.createElement(Ve.a,{checked:t.isActive,onChange:e.deActivateUser.bind(e,t._id)})),s.a.createElement("td",null," ",s.a.createElement(v.a,{to:"/userprofile/"+t._id}," ",s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2"},s.a.createElement("i",{className:"fa fa-eye"}))),"user"==t.role.rolename?s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"})):null,t.isVerified?null:s.a.createElement(b.a,{className:"btn btn-info btn-sm",onClick:e.showVerificationConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-envelope"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"USERS",subTitle:"",extra:[s.a.createElement(f.a,{placeholder:"Search",onChange:this.searchString.bind(this),key:"search",style:{width:"auto"}})]}),s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"name"),className:"cursor-pointer"},"Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Email"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,o)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,onChange:this.changePage.bind(this),total:this.state.totalRecord?this.state.totalRecord:1}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"User",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"team-form l_hgt0"},s.a.createElement(_e.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:this.handleChange},s.a.createElement("img",{src:n||"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"})),s.a.createElement(g.a.Item,{label:"User Name"},t("name",{rules:[{required:!0,whitespace:!0,message:"Please enter name"}]})(s.a.createElement(f.a,{placeholder:"User Name"}))),s.a.createElement(g.a.Item,{label:"Email Id"},t("email",{rules:[{required:!0,whitespace:!0,message:"Please enter email id"}]})(s.a.createElement(f.a,{placeholder:"Email Id"}))),s.a.createElement(g.a.Item,{label:"Password"},t("password",{rules:[{required:!0,whitespace:!0,message:"Please enter Password"}]})(s.a.createElement(f.a,{placeholder:"Password"}))))))))}}]),t}(s.a.Component);var We=g.a.create({name:"users"})(Ye),He=Object(h.b)((function(e){return{userData:e.user.userData,totalCount:e.user.totalCount}}),{getUsers:function(e){return function(t){P.a.post(w+V,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))}))}},deleteUser:Fe,deActivateUser:qe,addUser:Le,verifyUser:Be})(We),Ze=a(63),Je=a(129),Xe=a.n(Je),ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0});var e=a.state.userDetails?a.state.userDetails:a.props.userDetails;a.props.form.setFieldsValue({name:e.name})},a.handleChange=function(e){if("uploading"!==e.file.status&&"done"===e.file.status){F(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,changeImage:!0})}));var t=new FormData;t.append("file",e.file.originFileObj),t.append("email",a.state.userDetails.email),a.props.updateProfilePic(t,a.state.userDetails._id)}},a.handleOk=function(){var e=a.state.userDetails;a.props.form.validateFields((function(t,n){var s={name:n.name,userId:e._id};t||(e.name=n.name,a.setState({visible:!1,userDetails:e}),a.props.updateProfile(s))}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={userDetails:"",productList:[],loading:!1,page:0,imageUrl:"",visible:!1,changeImage:!1},Xe()(Object(Ze.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={userId:this.props.match.params.userId};this.props.getUserDetails(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({userDetails:e.userDetails,loading:!1,changeImage:!1,imageUrl:e.userDetails.profilePhoto})}},{key:"render",value:function(){var e=this.state,t=e.userDetails?e.userDetails:"",a=e.imageUrl?e.imageUrl:this.props.userDetails.profilePhoto,n=this.props.form.getFieldDecorator;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"overflowBox"},s.a.createElement(Me.a,{title:"PROFILE",subTitle:""}),s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement("div",{className:"box-body"},s.a.createElement("div",{className:"row profileDetails"},s.a.createElement("div",{className:"col-sm-6 col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6 col-md-4"},s.a.createElement(_e.a,{disabled:!0,name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:this.handleChange},e.changeImage?s.a.createElement("img",{src:a||"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"}):s.a.createElement("img",{src:a?"http://localhost:3020/app/uploads/profile/"+a:"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"}))),s.a.createElement("div",{className:"col-sm-6 col-md-6"},s.a.createElement("h4",null,t.name," \xa0"),s.a.createElement("p",null,s.a.createElement("i",{className:"fa fa-envelope"})," ",t.email,s.a.createElement("br",null),s.a.createElement("i",{className:"fa fa-gift"})," Joined: ",ge()(t.joinedDate).format("LL"))))),s.a.createElement("div",{className:"col-sm-6 col-md-6",style:{textAlign:"right"}}))))),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Profile Details",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"profile-form l_hgt0"},s.a.createElement(g.a.Item,{label:"User Name"},n("name",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please enter your name"}]})(s.a.createElement(f.a,{placeholder:"Enter Name"}))))))}}]),t}(s.a.Component);var Ke=g.a.create({name:"profile"})(ze),$e=Object(h.b)((function(e){return{userDetails:e.user.userDetails}}),{getUserDetails:function(e){return function(t){P.a.post(w+"user/getUserDetails",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_userDetails.SUCCESS,{userDetails:e.data.data}))}))}},updateProfile:function(e){return function(t){P.a.post(w+"user/updateUser",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code&&(R.a.success(a.data.message),P.a.post(w+"user/getUserDetails",{userId:e.userId},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_userDetails.SUCCESS,{userDetails:e.data.data}))})))}))}},updateProfilePic:function(e,t){return function(a){P.a.post(w+"user/updateProfilePic",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(R.a.success(e.data.message),P.a.post(w+"user/getUserDetails",{userId:t},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&a(k(Ge.get_userDetails.SUCCESS,{userDetails:e.data.data}))})))}))}}})(Ke),et=g.a.Item,tt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||a.props.forgotPassword(t)}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"gx-login-container"},s.a.createElement("div",{className:"gx-login-content"},s.a.createElement("div",{className:"gx-mb-4"},s.a.createElement("h2",null,"Forgot Password"),s.a.createElement("p",null)),s.a.createElement(g.a,{layout:"vertical",onSubmit:this.handleSubmit,className:"gx-login-form gx-form-row0"},s.a.createElement(et,null,e("email",{rules:[{type:"email",message:"The input is not valid email"},{required:!0,message:"Please enter your email"}]})(s.a.createElement(f.a,{prefix:s.a.createElement(E.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),type:"email",placeholder:"Email"}))),s.a.createElement(et,null,s.a.createElement(v.a,{className:"gx-login-form-forgot",to:"/"},"Sign In")),s.a.createElement(et,null,s.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Send")))))}}]),t}(n.Component);var at=g.a.create()(tt),nt=Object(h.b)((function(e){return{}}),{forgotPassword:function(e){return function(t){P.a.post(w+"f/user/forgotPassword",e,{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.data.code?(m.push("/"),R.a.success(e.data.message)):R.a.error(e.data.message)}))}}})(at),st=g.a.Item,ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={confirmDirty:!1,autoCompleteResult:[]},a.handleSubmit=function(e){var t=Object(Ze.a)(a);e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,n){var s={password:n.password,resetKey_value:t.props.match.params.resetKey};e||(console.log("Received values of form: ",n),a.props.resetPassword(s))}))},a.compareToFirstPassword=function(e,t,n){var s=a.props.form;t&&t!==s.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var s=a.props.form;t&&a.state.confirmDirty&&s.validateFields(["confirm"],{force:!0}),n()},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"gx-login-container"},s.a.createElement("div",{className:"gx-login-content"},s.a.createElement("div",{className:"gx-mb-4"},s.a.createElement("h2",null,"Reset Password"),s.a.createElement("p",null)),s.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"gx-login-form gx-form-row0"},s.a.createElement(st,null,e("password",{rules:[{required:!0,message:"Please enter your password"},{validator:this.validateToNextPassword},{max:20,message:"Maximum 20 characters allowed"},{min:6,message:"Minimum 6 characters required"}]})(s.a.createElement(f.a,{type:"password",placeholder:"New Password"}))),s.a.createElement(st,null,e("confirm",{rules:[{required:!0,message:"Please confirm your password"},{validator:this.compareToFirstPassword}]})(s.a.createElement(f.a,{placeholder:"Retype New Password",type:"password",onBlur:this.handleConfirmBlur}))),s.a.createElement(st,null,s.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Submit")))))}}]),t}(n.Component),rt=g.a.create({name:"reset"})(ot),it=Object(h.b)(null,{resetPassword:function(e){return function(t){P.a.post(w+"f/user/resetPassword",e,{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.data.code?(m.push("/"),R.a.success(e.data.message)):R.a.error(e.data.message)}))}}})(rt),lt=a(162),ct=a(433),dt=(a(237),Z.a.confirm),ut=lt.a.Option,mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s){a.setState({visible:!0,sportId:e}),""!==e?a.props.form.setFieldsValue({sportname:t,description:n,type:s}):a.props.form.resetFields()},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n={sportname:t.sportname,description:t.description,sportId:a.state.sportId,type:t.type};a.setState({isSportUpdate:!1}),console.log("this  issssssss",n),e?a.props.form.resetFields():(a.setState({visible:!1}),a.props.addSport(n))}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,sportData:[],sportId:"",sortValue:"",sortOrder:"",loading:!0,seasonData:[],isSportUpdate:!1,sportTypeData:[{id:1,name:"Regular"},{id:2,name:"Draw"}]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(e)}},{key:"showConfirm",value:function(e){var t=this,a={sportId:e};dt({title:U,content:"",onOk:function(){t.props.removeSport(a)},onCancel:function(){}})}},{key:"showConfirmResetPoints",value:function(e){var t=this,a={params:{sportId:e}};dt({title:"Do you want to reset game points?",content:"",onOk:function(){t.props.resetGamePoints(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getSport(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.sportData;this.setState({sportData:t,totalRecord:e.totalCount,loading:!1})}},{key:"handleMenuClick",value:function(e){var t={seasonId:e};if(""==t.seasonId){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.sportData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.sportname),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showModal.bind(e,t._id,t.sportname,t.description,t.type)},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"SPORT",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Sport")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sportname"),className:"cursor-pointer"},"Sport Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,a)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Sport",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Sport Name"},t("sportname",{rules:[{required:!0,whitespace:!0,message:"Please enter sport"}]})(s.a.createElement(f.a,{placeholder:"Sport"}))),s.a.createElement(g.a.Item,{label:"Description"},t("description",{rules:[{required:!0,whitespace:!0,message:"Please enter description"}]})(s.a.createElement(f.a,{placeholder:"Description"}))),s.a.createElement(g.a.Item,{label:"Sport Type"},t("type",{rules:[{required:!0,whitespace:!0,message:"Please enter sport type "}]})(s.a.createElement(lt.a,{disabled:this.state.isSportUpdate,placeholder:"Sport Type",style:{width:150},onChange:this.handleMenuClick.bind(this)},this.state.sportTypeData.map((function(e,t){return s.a.createElement(ut,{value:e.name,key:t},e.name)})))))))))))}}]),t}(s.a.Component);var pt=g.a.create({name:"sport"})(mt),ht=Object(h.b)((function(e){return{sportData:e.admin.sportData,totalCount:e.admin.sportCount}}),{getSport:se,addSport:oe,removeSport:re,resetGamePoints:ie})(pt),gt=Z.a.confirm,ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n){a.setState({visible:!0,bonusId:e}),a.props.form.setFieldsValue({bonusname:t,description:n})},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n={bonusname:t.bonusname,description:t.description};e||(a.setState({visible:!1}),a.props.addBonus(n))}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,bonusData:[],bonusId:"",sortValue:"",sortOrder:"",loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getBonus(e)}},{key:"showConfirm",value:function(e){var t=this,a={bonusId:e};gt({title:U,content:"",onOk:function(){t.props.removeBonus(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getBonus(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getBonus(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.bonusData;this.setState({bonusData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.bonusData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.bonusname),s.a.createElement("td",null,t.description),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"BONUS",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Bonus")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"bonusname"),className:"cursor-pointer"},"Bonus Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"bonusname"),className:"cursor-pointer"},"Description ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,a)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Bonus",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"bonus-form"},s.a.createElement(g.a.Item,{label:"Bonus Name"},t("bonusname",{rules:[{required:!0,whitespace:!0,message:"Please enter bonus name"}]})(s.a.createElement(f.a,{placeholder:"Bonus"}))),s.a.createElement(g.a.Item,{label:"Description"},t("description",{rules:[{required:!1,whitespace:!0,message:"Please enter description"}]})(s.a.createElement(f.a,{placeholder:"Description"})))))))))}}]),t}(s.a.Component);var Et=g.a.create({name:"bonus"})(ft),bt=Object(h.b)((function(e){return{bonusData:e.admin.bonusData,totalCount:e.admin.bonusCount}}),{getBonus:function(e){return function(t){P.a.post(w+"bonus/listBonus",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(console.log("response-------",e.data),t(k(ne.get_bonus.SUCCESS,{bonusData:e.data.data,bonusCount:e.data.totalCount})))}))}},addBonus:function(e){return function(t){P.a.post(w+"bonus/addBonus",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"bonus/listBonus",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_bonus.SUCCESS,{bonusData:e.data.data,bonusCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},removeBonus:function(e){return function(t){P.a.post(w+"bonus/deleteBonus",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"bonus/listBonus",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_bonus.SUCCESS,{bonusData:e.data.data,bonusCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}})(Et),vt=a(938),St=J.a.RangePicker,Ct=Z.a.confirm,Dt=lt.a.Option,yt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s,o,r,i){if(a.setState({visible:!0,roundId:e,sportId:o._id}),""!==e)a.setState({isRoundUpdate:!0}),a.props.form.resetFields(),a.props.form.setFieldsValue({roundno:t,roundname:n,roundtype:s,sport:o._id,date:[ge()(new Date(r)),ge()(new Date(i))]});else{var l=new Date;l.setDate(l.getDate()+(7-l.getDay())%7+1);var c=new Date(l);c.setDate(c.getDate()+(6-c.getDay())%6+1),a.setState({isRoundUpdate:!1}),a.props.form.resetFields(),a.props.form.setFieldsValue({roundno:1,date:[ge()(l),ge()(c)]})}},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(!e)if(a.setState({visible:!1,currentPage:0}),a.state.isRoundUpdate){var n={roundId:a.state.roundId,roundname:t.roundname};a.props.updateRound(n),a.setState({isRoundUpdate:!1})}else{var s={roundno:t.roundno,roundname:t.roundname,roundtype:a.state.roundtype,sportId:a.state.sportId,startDate:t.date[0],endDate:t.date[1]};console.log("cbj cobj ",s),a.props.addRound(s)}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,sportData:[],roundData:[],roundTypeData:[{id:1,name:"Regular Season"},{id:2,name:"Playoffs"}],sportId:"",roundId:"",isRoundUpdate:!1,sortValue:"",sortOrder:"",loading:!0,seasonData:[],seasonId:"",seasonId2:"",tchangePage:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getRound(e);this.props.getSport({count:1e3}),this.props.getSeason(e)}},{key:"handleMenuClick",value:function(e){console.log("value",e);this.setState({sportId:e}),this.setFieldsValue(e)}},{key:"handleRoundTypeClick",value:function(e){console.log("value",e);this.setState({roundtype:e})}},{key:"setFieldsValue",value:function(e){if(e){var t=this.state.roundData.filter((function(t){return t.sport._id==e}));if(t.length>0){t.length>1&&(t=t.sort((function(e,t){return e.roundno-t.roundno})));var a=t[t.length-1];(n=new Date(a.startDate)).setDate(n.getDate()+(7-n.getDay())%7+1),(s=new Date(n)).setDate(s.getDate()+(6-s.getDay())%6+1),this.props.form.setFieldsValue({roundno:a.roundno+1,date:[ge()(n),ge()(s)]})}else{var n,s;(n=new Date).setDate(n.getDate()+(7-n.getDay())%7+1),(s=new Date(n)).setDate(s.getDate()+(6-s.getDay())%6+1),this.props.form.setFieldsValue({roundno:1,date:[ge()(n),ge()(s)]})}}}},{key:"blockRound",value:function(e){var t={roundId:e};this.props.blockRound(t)}},{key:"showConfirm",value:function(e){var t=this,a={roundId:e};Ct({title:U,content:"",onOk:function(){t.setState({currentPage:0}),t.props.removeRound(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getRound(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getRound(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.roundData;this.setState({roundData:t,totalRecord:e.totalCount,loading:!1});var a=e.sportData;this.setState({sportData:a,loading:!1});var n=e.seasonData;this.setState({seasonData:n})}},{key:"handleMenuClick1",value:function(e){var t={seasonId:e};if(console.log("obj obj ",t),this.setState({seasonId:e}),""==t.seasonId){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"handleMenuClickSeason",value:function(e){var t={seasonId:e};if(console.log("obj obj =======",t),this.setState({seasonId2:e}),""==t.seasonId){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"handleMenuClickSport",value:function(e){var t={sportId:e},a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};console.log("dataaaaa",t),""==t.sportId?this.props.getRound(a):this.props.getRound(t),this.props.getSeason(a)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.sportData.map((function(e,t){return s.a.createElement(Dt,{value:e._id},e.sportname)})),o=a.roundData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.roundno),s.a.createElement("td",null,t.roundname),s.a.createElement("td",null,t.roundtype),s.a.createElement("td",null,t.sport.sportname),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showModal.bind(e,t._id,t.roundno,t.roundname,t.roundtype,t.sport,t.startDate,t.endDate)},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"ROUND",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","","")},"Add Round")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"roundno"),className:"cursor-pointer"},"Round No ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"roundname"),className:"cursor-pointer"},"Round Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"roundtype"),className:"cursor-pointer"},"Type ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sport.sportname"),className:"cursor-pointer"},"Sports ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,o)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,current:this.state.currentPage+1,defaultCurrent:this.state.currentPage+1,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Round",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Select Sport"},t("sport",{rules:[{required:!0,whitespace:!0,message:"Please select sport"}],initialValue:this.state.isRoundUpdate?["sport"]:null})(s.a.createElement(lt.a,{disabled:this.state.isRoundUpdate,style:{width:200},onChange:this.handleMenuClick.bind(this)},n))),s.a.createElement(g.a.Item,{label:"Round No"},t("roundno",{rules:[{required:!0,message:"Please enter round no"}]})(s.a.createElement(vt.a,{disabled:!0,placeholder:"Round No"}))),s.a.createElement(g.a.Item,{label:"Round Name"},t("roundname",{rules:[{required:!0,whitespace:!0,message:"Please enter round name"}]})(s.a.createElement(f.a,{placeholder:"Round Name"}))),s.a.createElement(g.a.Item,{label:"Select Type"},t("roundtype",{rules:[{required:!0,whitespace:!0,message:"Please select Type"}],initialValue:this.state.isRoundUpdate?["roundtype"]:null})(s.a.createElement(lt.a,{disabled:this.state.isRoundUpdate,style:{width:200},onChange:this.handleRoundTypeClick.bind(this)},this.state.roundTypeData.map((function(e,t){return s.a.createElement(Dt,{value:e.name,key:t},e.name)}))))),s.a.createElement(g.a.Item,{label:"Select start date and end date"},t("date",{rules:[{required:!0,message:"Please enter date range"}]})(s.a.createElement(St,{disabled:this.state.isRoundUpdate,placeholder:"Date"})))))))))}}]),t}(s.a.Component);var wt=g.a.create({name:"round"})(yt),Ot=Object(h.b)((function(e){return{roundData:e.admin.roundData,totalCount:e.admin.roundCount,sportData:e.admin.sportData,seasonData:e.admin.seasonData}}),{getRound:ce,addRound:function(e){return function(t){P.a.post(w+"round/addRound",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+_,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_round.SUCCESS,{roundData:e.data.data,roundCount:e.data.totalCount}))}))}else 201!==e.data.code&&400!==e.data.code&&409!=e.data.code||R.a.warning(e.data.message)}))}},removeRound:function(e){return function(t){P.a.post(w+"round/deleteRound",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+_,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_round.SUCCESS,{roundData:e.data.data,roundCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},getSport:se,blockRound:function(e){return function(t){P.a.post(w+"round/blockRound",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(P.a.post(w+_,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_round.SUCCESS,{roundData:e.data.data,roundCount:e.data.totalCount}))})),R.a.success(a.data.message)):R.a.error(a.data.message)}))}},updateRound:function(e){return function(t){P.a.post(w+"round/updateRound",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(R.a.success(a.data.message),P.a.post(w+_,{teamId:e.teamId},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_round.SUCCESS,{roundData:e.data.data,roundCount:e.data.totalCount}))}))):201===a.data.code&&R.a.warning(a.data.message)}))}},getSeason:ue})(wt),kt=a(443),Tt=a(939),Nt=Z.a.confirm,jt=lt.a.Option,It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s,o,r,i,l,c,d,u,m){if(a.setState({visible:!0,sportId:e}),""!==e){var p=a.state.roundData;p=p.filter((function(e){return e.sport._id==t._id}));var h=a.state.teamData,g=h.filter((function(e){return e.sport._id==t._id})),f=h.filter((function(e){return e.sport._id==t._id}));a.setState({sportId:t._id,selectRoundData:p,homeTeamData:g,selectHomeTeamData:g,awayTeamData:f,selectAwayTeamData:f});var E=a.formatDate(s);a.props.form.setFieldsValue({sport:t._id,round:n._id,date:E,points:r,hometeampoints:i,awayteampoints:l,homeseasonpoints:c,awayseasonpoints:d,hometeam:u._id,awayteam:m._id})}else a.props.form.resetFields()},a.autoTipping=function(){a.props.autoTipping()},a.sendGameStartNotification=function(e){var t={gameId:e,selectedSeason:a.state.selectedSeason};a.props.sendGameStartNotification(t)},a.showViewModal=function(e){a.setState({viewModalVisible:!0,viewGameData:e,viewHomeTeamData:e.homeTeam,viewAwayTeamData:e.awayTeam,viewRoundData:e.round,viewSportData:e.sport})},a.showResultModal=function(e){""==e.winningTeam?a.setState({resultModalVisible:!0,viewGameData:e,viewSportData:e.sport}):R.a.info("Winner already declared")},a.showEditModal=function(e){a.setState({sportType:e.sport.type}),a.props.form.resetFields();var t=a.state.roundData;t=t.filter((function(t){return t.sport._id==e.sport._id}));var n=a.state.teamData,s=n.filter((function(t){return t.sport._id==e.sport._id})),o=n.filter((function(t){return t.sport._id==e.sport._id})),r=o.filter((function(t){return t._id!==e.homeTeam._id})),i=s.filter((function(t){return t._id!==e.awayTeam._id}));a.setState({editModalVisible:!0,viewGameData:e,viewSportData:e.sport,editGameDate:e.gameDate,editGameTime:new Date(e.gameTime),selectRoundData:t,homeTeamData:s,selectHomeTeamData:i,awayTeamData:o,selectAwayTeamData:r,editGameState:e.gameState}),a.props.form.setFieldsValue({esport:e.sport._id,eround:e.round._id,epoints:String(e.points),ehometeampoints:String(e.homeTeamPoints),eawayteampoints:String(e.awayTeamPoints),ehomeseasonpoints:String(e.homeSeasonPoints),eawayseasonpoints:String(e.awaySeasonPoints),eEventId:e.eventId,ehometeam:e.homeTeam._id,eawayteam:e.awayTeam._id,ewinner:e.winningTeam}),a.setState({winner:e.winningTeam})},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n=new Date(t.time),s=new Date(t.date);s.setHours(n.getHours(),n.getMinutes(),"00");var o={sport:a.state.sportId,date:s,time:s,gameState:"open",round:a.state.roundId,points:parseFloat(t.points),homeTeamPoints:parseFloat(t.hometeampoints),awayTeamPoints:parseFloat(t.awayteampoints),homeSeasonPoints:parseFloat(t.homeseasonpoints),awaySeasonPoints:parseFloat(t.awayseasonpoints),eventId:t.eventId,homeTeam:a.state.homeTeamId,awayTeam:a.state.awayTeamId,winningTeam:"",season:"current",selectedSeason:a.state.selectedSeason};if(!(e.sport&&e.round&&e.date&&e.time&&e.hometeam&&e.awayteam)){var r=a.state.roundData.find((function(e){return e._id==a.state.roundId}));a.isDateBetween(r.startDate,r.endDate,t.date)?(a.setState({visible:!1,currentPage:0}),a.props.addGame(o)):R.a.warning("Please select date between round date")}}))},a.handleViewModalOk=function(){a.setState({viewModalVisible:!1})},a.handleResultModalOk=function(){a.setState({resultModalVisible:!1,currentPage:0});var e={gameId:a.state.viewGameData._id,sportId:a.state.viewSportData._id,gameState:"finished",winningTeam:a.state.winner,selectedSeason:a.state.selectedSeason};a.props.addGame(e)},a.handleEditModalOk=function(){a.props.form.validateFields((function(e,t){var n=new Date(a.state.editGameTime),s=new Date(a.state.editGameDate);s.setHours(n.getHours(),n.getMinutes(),"00");var o=a.state.editGameState;""!==a.state.winner&&(o="finished");var r={gameId:a.state.viewGameData._id,gameDate:s,gameTime:s,sport:t.esport,round:t.eround,points:parseFloat(t.epoints),homeTeamPoints:parseFloat(t.ehometeampoints),awayTeamPoints:parseFloat(t.eawayteampoints),homeSeasonPoints:parseFloat(t.ehomeseasonpoints),awaySeasonPoints:parseFloat(t.eawayseasonpoints),eventId:t.eEventId,homeTeam:t.ehometeam,awayTeam:t.eawayteam,winningTeam:a.state.winner,gameState:o,selectedSeason:a.state.selectedSeason};if(!(e.esport&&e.eround&&e.edate&&e.ehometeampoints&&e.eawayteampoints&&e.etime&&e.ehometeam&&e.eawayteam)){var i=a.state.roundData.find((function(e){return e._id==t.eround}));a.isDateBetween(i.startDate,i.endDate,a.state.editGameDate)?""!==a.state.winner&&"open"==a.state.editGameState?R.a.warning("Game is not started yet"):(a.setState({editModalVisible:!1,currentPage:0}),a.props.updateGame(r)):R.a.warning("Please select date between round date")}}))},a.handleCancel=function(){a.setState({visible:!1})},a.handleViewModalCancel=function(){a.setState({viewModalVisible:!1})},a.handleResultModalCancel=function(){a.setState({resultModalVisible:!1})},a.handleEditModalCancel=function(){a.setState({editModalVisible:!1})},a.onEditDateChange=function(e,t){console.log(e,t),a.setState({editGameDate:new Date(t)})},a.onEditTimeChange=function(e,t){console.log(e,t),a.setState({editGameTime:new Date(e._d)})},a.state={currentPage:0,totalRecord:0,visible:!1,viewModalVisible:!1,resultModalVisible:!1,editModalVisible:!1,isDataNotAvailable:!1,sportData:[],gameData:[],roundData:[],selectRoundData:[],teamData:[],homeTeamData:[],selectHomeTeamData:[],awayTeamData:[],selectAwayTeamData:[],selectWinnerData:[{id:1,name:"Home"},{id:2,name:"Away"},{id:3,name:"Draw"}],selectWinnerData1:[{id:1,name:"Home"},{id:2,name:"Away"}],sportId:"",roundId:"",homeTeamId:"",awayTeamId:"",sortValue:"",sortOrder:"",loading:!0,roundOption:"",viewGameData:"",viewHomeTeamData:"",viewAwayTeamData:"",viewRoundData:"",viewSportData:"",winner:"",editGameDate:"",editGameTime:"",editGameState:"",selectedSeason:"current",sportType:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,season:"current"},t={count:1e3,season:"current"};this.props.getSport(t),this.props.getRound(t),this.props.getTeam(t),this.props.getGame(e)}},{key:"handleSportSelect",value:function(e){console.log("value",e),console.log("sportid :",e);var t=this.state.roundData;t=t.filter((function(t){return t.sport._id==e}));var a=this.state.teamData,n=a.filter((function(t){return t.sport._id==e})),s=a.filter((function(t){return t.sport._id==e}));this.props.form.setFieldsValue({eround:null,round:null,ehometeam:null,hometeam:null,eawayteam:null,awayteam:null}),this.setState({sportId:e,selectRoundData:t,homeTeamData:n,selectHomeTeamData:n,awayTeamData:s,selectAwayTeamData:s})}},{key:"handleRoundSelect",value:function(e){console.log("value",e);this.setState({roundId:e})}},{key:"handleHomeTeamSelect",value:function(e){console.log("value",e);var t=this.state.awayTeamData;t=t.filter((function(t){return t._id!==e})),this.setState({homeTeamId:e,selectAwayTeamData:t})}},{key:"handleAwayTeamSelect",value:function(e){console.log("value",e);var t=this.state.homeTeamData;t=t.filter((function(t){return t._id!==e})),this.setState({awayTeamId:e,selectHomeTeamData:t})}},{key:"handleWinnerSelect",value:function(e){console.log("value",e),this.setState({winner:e})}},{key:"handleSeasonRadio",value:function(e){console.log("season_radio: "+e.target.value),this.setState({selectedSeason:e.target.value});var t={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,season:e.target.value};this.props.getGame(t)}},{key:"isDateBetween",value:function(e,t,a){var n=new Date(e);n.setHours(0,0,0,0);var s=new Date(t);s.setHours(23,55,0,0);var o=new Date(a);return o>=n&&o<=s}},{key:"showConfirm",value:function(e){var t=this,a={gameId:e,selectedSeason:this.state.selectedSeason};Nt({title:"Are you sure you want to delete this game. If these teams already played, then this may cause issues. If you need to make a change to this game, then edit it (don't delete it)",content:"",onOk:function(){t.setState({currentPage:0}),t.props.removeGame(a)},onCancel:function(){}})}},{key:"showGameStateConfirm",value:function(e){var t=this,a={gameId:e,gameState:"started",selectedSeason:this.state.selectedSeason};Nt({title:"Are you sure you want to start this game",content:"",onOk:function(){t.setState({currentPage:0}),t.props.addGame(a)},onCancel:function(){}})}},{key:"handlePastSeason",value:function(){var e=this,t={selectedSeason:this.state.selectedSeason};Nt({title:"Do you really want to send all current game to past?",content:"",onOk:function(){e.props.updateGameSeason(t)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,season:this.state.selectedSeason};this.props.getGame(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1,selectedSeason:this.state.selectedSeason};this.props.getGame(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.roundData;this.setState({roundData:t,totalRecord:e.totalCount,loading:!1});var a=e.sportData;this.setState({sportData:a,loading:!1});var n=e.teamData;this.setState({teamData:n,loading:!1});var s=e.gameData;this.setState({gameData:s,loading:!1}),e.gameData.length<=0?this.state.isDataNotAvailable=!0:this.state.isDataNotAvailable=!1}},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[s,a,n].join("/")}},{key:"render",value:function(){var e=this,t={labelCol:{span:8},wrapperCol:{span:16}},a=this.props.form.getFieldDecorator,n=this.state,o=n.sportData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.sportname)}));this.state.roundOption=this.state.roundData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.roundname)}));n.teamData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.teamname)}));var r=n.gameData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.sport.sportname),s.a.createElement("td",null,t.round.roundno),s.a.createElement("td",null,t.round.roundname),s.a.createElement("td",null,t.homeTeam.teamname),s.a.createElement("td",null,t.awayTeam.teamname),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showViewModal.bind(e,t)},s.a.createElement("i",{className:"fa fa-eye"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showEditModal.bind(e,t)},s.a.createElement("i",{className:"fa fa-pencil"})),"open"==t.gameState?s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.sendGameStartNotification.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-telegram"})):null,"open"==t.gameState?s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showGameStateConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-hourglass-start"})):null))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"Game",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Game")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sport.sportname"),className:"cursor-pointer"},"Sports ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"round.roundno"),className:"cursor-pointer"},"Round No ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"round.roundname"),className:"cursor-pointer"},"Round ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"hometeam.teamname"),className:"cursor-pointer"},"Home Team ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"awayteam.teamname"),className:"cursor-pointer"},"Away Team ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,r)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,current:this.state.currentPage+1,defaultCurrent:this.state.currentPage+1,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Add Game",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,t,s.a.createElement(g.a.Item,{label:"Select Sports"},a("sport",{rules:[{required:!0,whitespace:!0,message:"Please select sports"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleSportSelect.bind(this)},o))),s.a.createElement(g.a.Item,{label:"Select Round"},a("round",{rules:[{required:!0,whitespace:!0,message:"Please select round"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleRoundSelect.bind(this)},this.state.selectRoundData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.roundname)}))))),s.a.createElement(g.a.Item,{label:"Timezone"},a("timezone",{initialValue:"Australia/Sydney",rules:[{required:!1,whitespace:!0,message:"Please enter timezone"}]})(s.a.createElement(f.a,{placeholder:"Timezone",disabled:!0}))),s.a.createElement(g.a.Item,{label:"Date"},a("date",{rules:[{required:!0,message:"Please enter date"}]})(s.a.createElement(J.a,{placeholder:"Date"}))),s.a.createElement(g.a.Item,{label:"Time"},a("time",{rules:[{required:!0,message:"Please enter time"}]})(s.a.createElement(kt.a,{placeholder:"Time",format:"HH:mm"}))),s.a.createElement(g.a.Item,{label:"Points"},a("points",{initialValue:"2",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points",disabled:!0}))),s.a.createElement(g.a.Item,{label:"Home Team Points"},a("hometeampoints",{rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Away Team Points"},a("awayteampoints",{rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Home Season Points"},a("homeseasonpoints",{rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Away Season Points"},a("awayseasonpoints",{rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Select Home Team"},a("hometeam",{rules:[{required:!0,whitespace:!0,message:"Please select Home Team"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleHomeTeamSelect.bind(this)},this.state.selectHomeTeamData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.teamname)}))))),s.a.createElement(g.a.Item,{label:"Select Away Team"},a("awayteam",{rules:[{required:!0,whitespace:!0,message:"Please select away Team"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleAwayTeamSelect.bind(this)},this.state.selectAwayTeamData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.teamname)}))))),s.a.createElement(g.a.Item,{label:"Event ID"},a("eventId",{rules:[{required:!1,whitespace:!0,message:"Please enter event id"}]})(s.a.createElement(f.a,{placeholder:"Event ID"}))))),s.a.createElement(ee,{handleCancel:this.handleEditModalCancel,handleOk:this.handleEditModalOk,visible:this.state.editModalVisible,title:"Edit Game",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,t,s.a.createElement(g.a.Item,{label:"Select Sports"},a("esport",{initialValue:["esport"],rules:[{required:!0,whitespace:!0,message:"Please select sports"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleSportSelect.bind(this)},o))),s.a.createElement(g.a.Item,{label:"Select Round"},a("eround",{initialValue:["eround"],rules:[{required:!0,whitespace:!0,message:"Please select round"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleRoundSelect.bind(this)},this.state.selectRoundData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.roundname)}))))),s.a.createElement(g.a.Item,{label:"Timezone"},a("etimezone",{initialValue:"Australia/Sydney",rules:[{required:!1,whitespace:!0,message:"Please enter timezone"}]})(s.a.createElement(f.a,{placeholder:"Timezone",disabled:!0}))),s.a.createElement(g.a.Item,{label:"Date"},a("edate",{initialValue:ge()(new Date(this.state.editGameDate),"YYYY/MM/DD"),rules:[{required:!0,message:"Please enter date"}]})(s.a.createElement(J.a,{onChange:this.onEditDateChange,placeholder:"Date"}))),s.a.createElement(g.a.Item,{label:"Time"},a("etime",{initialValue:ge()(new Date(this.state.editGameTime),"HH:mm"),rules:[{required:!0,message:"Please enter time"}]})(s.a.createElement(kt.a,{onChange:this.onEditTimeChange,format:"HH:mm",placeholder:"Time"}))),s.a.createElement(g.a.Item,{label:"Points"},a("epoints",{initialValue:"epoints",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points",disabled:!0}))),s.a.createElement(g.a.Item,{label:"Home Team Points"},a("ehometeampoints",{initialValue:"eawayteampoints",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Away Team Points"},a("eawayteampoints",{initialValue:"eawayteampoints",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Home Season Points"},a("ehomeseasonpoints",{initialValue:"eawayseasonpoints",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Away Season Points"},a("eawayseasonpoints",{initialValue:"eawayseasonpoints",rules:[{required:!1,whitespace:!0,message:"Please enter winner points"}]})(s.a.createElement(f.a,{placeholder:"Points"}))),s.a.createElement(g.a.Item,{label:"Select Home Team"},a("ehometeam",{rules:[{required:!0,whitespace:!0,message:"Please select Home Team"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleHomeTeamSelect.bind(this)},this.state.selectHomeTeamData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.teamname)}))))),s.a.createElement(g.a.Item,{label:"Select Away Team"},a("eawayteam",{rules:[{required:!0,whitespace:!0,message:"Please select away Team"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleAwayTeamSelect.bind(this)},this.state.selectAwayTeamData.map((function(e,t){return s.a.createElement(jt,{value:e._id},e.teamname)}))))),s.a.createElement(g.a.Item,{label:"Select Winner"},a("ewinner",{initialValue:["ewinner"],rules:[{required:!1,whitespace:!0,message:"Please select Winner"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleWinnerSelect.bind(this)},"Draw"==this.state.sportType?this.state.selectWinnerData.map((function(e,t){return s.a.createElement(jt,{value:e.name},e.name)})):this.state.selectWinnerData1.map((function(e,t){return s.a.createElement(jt,{value:e.name},e.name)}))))),s.a.createElement(g.a.Item,{label:"Event ID"},a("eEventId",{initialValue:"eEventId",rules:[{required:!1,whitespace:!0,message:"Please enter event id"}]})(s.a.createElement(f.a,{placeholder:"Event ID"}))))),s.a.createElement(ee,{handleCancel:this.handleViewModalCancel,handleOk:this.handleViewModalOk,visible:this.state.viewModalVisible,title:"View Game Details",backBtnText:"Back",submitBtnText:"OK"},s.a.createElement(Tt.a,{title:"Game Details (State: "+this.state.viewGameData.gameState+")",layout:"vertical"},s.a.createElement(Tt.a.Item,{label:"Sports"},this.state.viewSportData.sportname),s.a.createElement(Tt.a.Item,{label:"Season"},this.state.viewGameData.season),s.a.createElement(Tt.a.Item,{label:"Round No"},this.state.viewRoundData.roundno),s.a.createElement(Tt.a.Item,{label:"Round Name"},this.state.viewRoundData.roundname),s.a.createElement(Tt.a.Item,{label:"Round Start Date"},new Date(this.state.viewRoundData.startDate).toDateString()),s.a.createElement(Tt.a.Item,{label:"Round End Date"},new Date(this.state.viewRoundData.endDate).toDateString()),s.a.createElement(Tt.a.Item,{label:"Home Team"},this.state.viewHomeTeamData.teamname),s.a.createElement(Tt.a.Item,{label:"Away Team"},this.state.viewAwayTeamData.teamname),s.a.createElement(Tt.a.Item,{label:"Game Points"},this.state.viewGameData.points),s.a.createElement(Tt.a.Item,{label:"Home Team Points"},this.state.viewGameData.homeTeamPoints),s.a.createElement(Tt.a.Item,{label:"Away Team Points"},this.state.viewGameData.awayTeamPoints),s.a.createElement(Tt.a.Item,{label:"Home Season Points"},this.state.viewGameData.homeSeasonPoints),s.a.createElement(Tt.a.Item,{label:"Away Season Points"},this.state.viewGameData.awaySeasonPoints),s.a.createElement(Tt.a.Item,{label:"Date"},new Date(this.state.viewGameData.gameDate).toDateString()),s.a.createElement(Tt.a.Item,{label:"Time"},ge()(new Date(this.state.viewGameData.gameTime)).format("HH:mm")),s.a.createElement(Tt.a.Item,{label:"Winner"},""!==this.state.viewGameData.winningTeam?this.state.viewGameData.winningTeam:"NA"),s.a.createElement(Tt.a.Item,{label:"Home Topsport Odds"},this.state.viewGameData.homeTopTipperPoints),s.a.createElement(Tt.a.Item,{label:"Away Topsport Odds"},this.state.viewGameData.awayTopTipperPoints),s.a.createElement(Tt.a.Item,{label:"Event ID"},this.state.viewGameData.eventId))),s.a.createElement(ee,{handleCancel:this.handleResultModalCancel,handleOk:this.handleResultModalOk,visible:this.state.resultModalVisible,title:"Update Game Result",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(lt.a,{style:{width:200},placeholder:"Select Winner",onChange:this.handleWinnerSelect.bind(this)},this.state.selectWinnerData.map((function(e,t){return s.a.createElement(jt,{value:e.name},e.name)}))))))))}}]),t}(s.a.Component);var Pt=g.a.create({name:"game"})(It),At=Object(h.b)((function(e){return{roundData:e.admin.roundData,totalCount:e.admin.gameCount,sportData:e.admin.sportData,teamData:e.admin.teamData,gameData:e.admin.gameData}}),{getSport:se,getRound:ce,getTeam:le,getGame:function(e){return function(t){P.a.post(w+G,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_game.SUCCESS,{gameData:e.data.data,gameCount:e.data.totalCount}))}))}},addGame:function(e){return function(t){P.a.post(w+"game/addGames",e,{headers:N(0,"application/json")}).then((function(a){if(200===a.data.code){var n={page:0,season:e.selectedSeason};R.a.success(a.data.message),P.a.post(w+G,n,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_game.SUCCESS,{gameData:e.data.data,gameCount:e.data.totalCount}))}))}else 201===a.data.code&&R.a.warning(a.data.message)}))}},removeGame:function(e){return function(t){P.a.post(w+"game/deleteGame",e,{headers:N(0,"application/json")}).then((function(a){if(200===a.data.code){R.a.success(a.data.message);var n={page:0,season:e.selectedSeason};P.a.post(w+G,n,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_game.SUCCESS,{gameData:e.data.data,gameCount:e.data.totalCount}))}))}else 201===a.data.code&&R.a.warning(a.data.message)}))}},updateGame:function(e){return function(t){P.a.post(w+"game/updateGame",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(R.a.success(a.data.message),P.a.post(w+G,{teamId:e.teamId,season:e.selectedSeason},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_game.SUCCESS,{gameData:e.data.data,gameCount:e.data.totalCount}))}))):201===a.data.code&&R.a.warning(a.data.message)}))}},updateGameSeason:function(e){return function(t){P.a.post(w+"game/updateGameSeason",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(R.a.success(a.data.message),P.a.post(w+G,{season:e.selectedSeason},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_game.SUCCESS,{gameData:e.data.data,gameCount:e.data.totalCount}))}))):201===a.data.code&&R.a.warning(a.data.message)}))}},autoTipping:function(){return function(e){P.a.get(w+"tipping/addAutoTipping",{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&R.a.success(e.data.message)}))}},sendGameStartNotification:function(e){return function(t){P.a.post(w+"kingbot/sendGameStartNotification",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&R.a.success(e.data.message),console.log("dat",e)}))}}})(Pt),Rt=Z.a.confirm,Ut=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={currentPage:0,totalRecord:0,visible:!1,compData:[],compId:"",sortValue:"",sortOrder:"",loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getComp(e)}},{key:"showConfirm",value:function(e){var t=this,a={compId:e};Rt({title:U,content:"",onOk:function(){t.setState({currentPage:0}),t.props.removeComp(a)},onCancel:function(){}})}},{key:"showConfirmResetPoints",value:function(e,t){var a=this,n={params:{compId:e,sportId:t}};Rt({title:"Do you want to reset game points?",content:"",onOk:function(){a.props.resetCompUserGamePoints(n)},onCancel:function(){}})}},{key:"showConfirmResetPointsAll",value:function(e){var t=this,a={params:{}};Rt({title:"Do you want to reset all competitions game points?",content:"",onOk:function(){t.props.resetAllCompUserGamePoints(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getComp(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getComp(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.compData;this.setState({compData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=(this.props.form.getFieldDecorator,this.state.compData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.competitionname),s.a.createElement("td",null,t.sport.sportname),s.a.createElement("td",null,t.totalCount),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirmResetPoints.bind(e,t._id,t.sport._id)},s.a.createElement("i",{className:"fa fa-anchor"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))})));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"COMPETITION",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showConfirmResetPointsAll.bind(this,"")},"Reset All")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"competitionname"),className:"cursor-pointer"},"Competition Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Sport"),s.a.createElement("th",{scope:"col"},"Total Joined User"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,t)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)})))))}}]),t}(s.a.Component);var Vt=g.a.create({name:"comp"})(Ut),Mt=Object(h.b)((function(e){return{compData:e.admin.compData,totalCount:e.admin.compCount}}),{getComp:function(e){return function(t){P.a.post(w+"competition/listCompetition",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_comp.SUCCESS,{compData:e.data.data,compCount:e.data.totalCount}))}))}},resetCompUserGamePoints:function(e){return function(t){P.a.get(w+"ladder/resetCompUserGamePoints",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code?R.a.success(e.data.message):201===e.data.code&&R.a.warning(e.data.message)}))}},resetAllCompUserGamePoints:function(e){return function(t){P.a.get(w+"ladder/resetAllCompUserGamePoints",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code?R.a.success(e.data.message):201===e.data.code&&R.a.warning(e.data.message)}))}},removeComp:function(e){return function(t){P.a.post(w+"competition/deleteCompetition",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"competition/listCompetition",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_comp.SUCCESS,{compData:e.data.data,compCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}})(Vt),xt=Z.a.confirm,_t=lt.a.Option,Gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n){a.setState({visible:!0,teamId:e}),a.props.form.setFieldsValue({teamname:t,description:n})},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(!e){a.setState({visible:!1,currentPage:0});var n=new FormData;n.append("teamname",t.teamname),n.append("file",a.state.fileObj),n.append("sportId",a.state.sportId),n.append("seasonId",a.state.seasonId),a.props.addTeam(n)}}))},a.handleCancel=function(){a.setState({visible:!1})},a.handleChange=function(e){"uploading"!==e.file.status&&"done"===e.file.status&&F(e.file.originFileObj,(function(t){return a.setState({imageUrl:t,fileObj:e.file.originFileObj,changeImage:!0})}))},a.upload=function(e){F(e,(function(t){return a.setState({imageUrl:t,fileObj:e,changeImage:!0})}))},a.state={currentPage:0,totalRecord:0,visible:!1,teamData:[],teamId:"",sortValue:"",sortOrder:"",imageUrl:"",fileObj:"",sportData:[],sportId:"",seasonId:"",seasonId2:"",loading:!0,seasonData:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getTeam(e);this.props.getSport({count:1e3}),this.props.getSeason(e)}},{key:"showConfirm",value:function(e){var t=this,a={teamId:e};xt({title:U,content:"",onOk:function(){t.setState({currentPage:0}),t.props.removeTeam(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getTeam(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getTeam(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.teamData;this.setState({teamData:t,totalRecord:e.totalCount,loading:!1});var a=e.sportData;this.setState({sportData:a,loading:!1});var n=e.seasonData;this.setState({seasonData:n,loading:!1})}},{key:"blockTeam",value:function(e){var t={teamId:e};this.props.blockTeam(t)}},{key:"handleMenuClick",value:function(e){console.log("value",e);this.setState({sportId:e})}},{key:"handleMenuClick1",value:function(e){var t={seasonId:e};if(this.setState({seasonId:e}),""==t.seasonId){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"handleMenuClick2",value:function(e){var t={seasonId:e};if(this.setState({seasonId2:e}),""==t.seasonId2){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"getFilterTeam",value:function(e){var t={sportId:e},a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};console.log("dataaaaa",t),""==t.sportId?this.props.getTeam(a):this.props.getTeamBySportId(t),this.props.getSeason(a)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.sportData.map((function(e,t){return s.a.createElement(_t,{value:e._id},e.sportname)})),o=a.imageUrl?a.imageUrl:"",r=a.teamData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.teamname),t&&t.sport?s.a.createElement("td",null,t.sport.sportname):"",s.a.createElement("td",null,s.a.createElement("img",{src:O+t.teamLogo,alt:"profile",style:{height:"60px",width:"60px"}})),s.a.createElement("td",null," ",s.a.createElement(Ve.a,{checked:t.isActive,onChange:e.blockTeam.bind(e,t._id)})),s.a.createElement("td",null,s.a.createElement(v.a,{to:"/teamdetail/"+t._id}," ",s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2"},s.a.createElement("i",{className:"fa fa-eye"}))),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"TEAM",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Team")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"teamname"),className:"cursor-pointer"},"Team Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"teamname"),className:"cursor-pointer"},"Sport ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",className:"cursor-pointer"},"Logo"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,r)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,current:this.state.currentPage+1,defaultCurrent:this.state.currentPage+1,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Team",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"team-form l_hgt0"},s.a.createElement(_e.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:this.upload,onChange:this.handleChange},s.a.createElement("img",{src:o||"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"})),s.a.createElement(g.a.Item,{label:"Team Name"},t("teamname",{rules:[{required:!0,whitespace:!0,message:"Please enter team"}]})(s.a.createElement(f.a,{placeholder:"Team"}))),s.a.createElement("br",null),s.a.createElement("label",null,"Sports :"),s.a.createElement("br",null),s.a.createElement(lt.a,{defaultValue:"sport",style:{width:120},onChange:this.handleMenuClick.bind(this)},n)))))))}}]),t}(s.a.Component);var Ft=g.a.create({name:"team"})(Gt),Bt=Object(h.b)((function(e){return{teamData:e.admin.teamData,totalCount:e.admin.teamCount,sportData:e.admin.sportData,seasonData:e.admin.seasonData}}),{getTeam:le,addTeam:function(e){return function(t){P.a.post(w+"team/addTeam",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+x,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_team.SUCCESS,{teamData:e.data.data,teamCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},removeTeam:function(e){return function(t){P.a.post(w+"team/deleteTeam",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+x,{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_team.SUCCESS,{teamData:e.data.data,teamCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},blockTeam:function(e){return function(t){P.a.post(w+"/team/blockTeam",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(P.a.post(w+x,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_team.SUCCESS,{teamData:e.data.data,teamCount:e.data.totalCount}))})),R.a.success(a.data.message)):R.a.error(a.data.message)}))}},getSport:se,getSeason:ue,getTeamBySportId:function(e){return function(t){P.a.post(w+"team/getTeamListbySportId",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code?(R.a.success(e.data.message),console.log("response issssss",e),t(k(ne.get_team.SUCCESS,{teamData:e.data.data,teamCount:e.data.totalCount}))):201==e.data.code&&R.a.waarning(e.data.message)}))}}})(Ft),qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0});var e=a.state.teamDetails?a.state.teamDetails:a.props.teamDetails;a.props.form.setFieldsValue({teamname:e.teamname})},a.handleChange=function(e){if("uploading"!==e.file.status&&"done"===e.file.status){F(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,changeImage:!0})}));var t=new FormData;t.append("file",e.file.originFileObj),t.append("teamId",a.props.match.params.teamId),a.props.updateTeamLogo(t)}},a.upload=function(e){var t=new FormData;t.append("file",e),t.append("teamId",a.props.match.params.teamId),a.props.updateTeamLogo(t)},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(!e){a.setState({visible:!1});var n={teamname:t.teamname,teamId:a.props.match.params.teamId};a.props.updateTeam(n)}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={teamDetails:"",loading:!1,page:0,imageUrl:"",visible:!1,changeImage:!1},Xe()(Object(Ze.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={teamId:this.props.match.params.teamId};this.props.getTeamDetails(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({teamDetails:e.teamDetails,loading:!1,changeImage:!1,imageUrl:e.teamDetails.teamLogo})}},{key:"render",value:function(){var e=this.state,t=e.teamDetails?e.teamDetails:"",a=e.imageUrl?e.imageUrl:this.props.teamDetails.teamLogo,n=this.props.form.getFieldDecorator;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"overflowBox"},s.a.createElement(Me.a,{title:"TEAM PROFILE",subTitle:""}),s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement("div",{className:"box-body"},s.a.createElement("div",{className:"row profileDetails"},s.a.createElement("div",{className:"col-sm-6 col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6 col-md-4"},s.a.createElement(_e.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:this.upload,onChange:this.handleChange},e.changeImage?s.a.createElement("img",{src:a||"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"}):s.a.createElement("img",{src:a?O+a:"http://placehold.it/380x500",alt:"profile",className:"img-rounded img-responsive img-104"}))),s.a.createElement("div",{className:"col-sm-6 col-md-6"},s.a.createElement("h4",null,s.a.createElement("i",{className:"fa fa-users"}),"   ",t.teamname," \xa0"),t&&t.sport?s.a.createElement("h4",null,s.a.createElement("i",{className:" fa fa-soccer-ball-o"})," ",t.sport.sportname," \xa0"):""))),s.a.createElement("div",{className:"col-sm-6 col-md-6",style:{textAlign:"right"}},s.a.createElement("i",{className:"fa fa-pencil btn",onClick:this.showModal})))))),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Team Details",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"profile-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Teamname"},n("teamname",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please enter team name"}]})(s.a.createElement(f.a,{placeholder:"Enter Team Name"}))))))}}]),t}(s.a.Component);var Lt=g.a.create({name:"profile"})(qt),Qt=Object(h.b)((function(e){return{teamDetails:e.admin.teamDetails}}),{getTeamDetails:function(e){return function(t){P.a.post(w+"/team/getTeamDetail",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_teamDetails.SUCCESS,{teamDetails:e.data.data}))}))}},updateTeam:function(e){return function(t){P.a.post(w+"team/updateTeam",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code&&(R.a.success(a.data.message),P.a.post(w+"/team/getTeamDetail",{teamId:e.teamId},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_teamDetails.SUCCESS,{teamDetails:e.data.data}))})))}))}},updateTeamLogo:function(e){return function(t){P.a.post(w+"team/updateTeamLogo",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(R.a.success(e.data.message),P.a.post(w+"/team/getTeamDetail",{teamId:e.data.data._id},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_teamDetails.SUCCESS,{teamDetails:e.data.data}))})))}))}}})(Lt),Yt=Z.a.confirm,Wt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t){a.setState({visible:!0,topicId:e}),""!==e&&a.props.form.setFieldsValue({topicname:t})},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n={topicname:t.topicname,topicId:a.state.topicId};e||(a.setState({visible:!1}),a.props.addTopic(n))}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,topicData:[],topicId:"",sortValue:"",sortOrder:"",loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getTopic(e)}},{key:"searchString",value:function(e){this.setState({search_string:e.target.value});var t={search_string:e.target.value,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getTopic(t)}},{key:"showConfirm",value:function(e){var t=this,a={topicId:e};Yt({title:U,content:"",onOk:function(){t.props.removeTopic(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getTopic(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getTopic(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.topicData;this.setState({topicData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.topicData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.topicname),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showModal.bind(e,t._id,t.topicname)},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"TOPIC",subTitle:"",extra:[s.a.createElement(f.a,{placeholder:"Search",onChange:this.searchString.bind(this),key:"search",style:{width:"auto"}}),s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Topic")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"topicname"),className:"cursor-pointer"},"Topic Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,a)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Topic",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Topic Name"},t("topicname",{rules:[{required:!0,whitespace:!0,message:"Please enter topic"}]})(s.a.createElement(f.a,{placeholder:"Topic"})))))))))}}]),t}(s.a.Component);var Ht=g.a.create({name:"topic"})(Wt),Zt=Object(h.b)((function(e){return{topicData:e.admin.topicData,totalCount:e.admin.topicCount}}),{getTopic:de,addTopic:function(e){return function(t){P.a.post(w+"topic/addupdateTopic",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"topic/listTopic",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_topic.SUCCESS,{topicData:e.data.data,topicCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},removeTopic:function(e){return function(t){P.a.post(w+"topic/deleteTopic",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"topic/listTopic",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_topic.SUCCESS,{topicData:e.data.data,topicCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}})(Ht),Jt=Z.a.confirm,Xt=lt.a.Option,zt=f.a.TextArea,Kt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s){a.setState({visible:!0,questionId:e,topicId:s._id}),""!==e?a.props.form.setFieldsValue({question:t,answer:n,topic:s._id}):a.props.form.resetFields()},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(!e){a.setState({visible:!1});var n={questionId:a.state.questionId,question:t.question,answer:t.answer,topicId:a.state.topicId};a.props.addQuestion(n)}}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,topicData:[],questionData:[],topicId:"",questionId:"",isQuestionUpdate:!1,sortValue:"",sortOrder:"",loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getQuestion(e),this.props.getTopic(e)}},{key:"handleMenuClick",value:function(e){console.log("value",e);this.setState({topicId:e})}},{key:"showConfirm",value:function(e){var t=this,a={questionId:e};Jt({title:U,content:"",onOk:function(){t.props.removeQuestion(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getQuestion(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getQuestion(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.questionData;this.setState({questionData:t,totalRecord:e.totalCount,loading:!1});var a=e.topicData;this.setState({topicData:a,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.topicData.map((function(e,t){return s.a.createElement(Xt,{value:e._id},e.topicname)})),o=a.questionData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.question),s.a.createElement("td",null,t.answer),s.a.createElement("td",null,t.topic.topicname),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showModal.bind(e,t._id,t.question,t.answer,t.topic)},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"QUESTION",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","")},"Add Question")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"question"),className:"cursor-pointer"},"Question ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"answer"),className:"cursor-pointer"},"Answer ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"topic.topicname"),className:"cursor-pointer"},"Topic ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,o)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Question",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Question"},t("question",{rules:[{required:!0,whitespace:!0,message:"Please enter Question"}]})(s.a.createElement(f.a,{placeholder:"Question"}))),s.a.createElement(g.a.Item,{label:"Answer"},t("answer",{rules:[{required:!0,whitespace:!0,message:"Please enter Answer"}]})(s.a.createElement(zt,{placeholder:"Answer"}))),s.a.createElement(g.a.Item,{label:"Select Topic"},t("topic",{initialValues:["topic"],rules:[{required:!0,whitespace:!0,message:"Please select topic"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleMenuClick.bind(this)},n)))))))))}}]),t}(s.a.Component);var $t=g.a.create({name:"question"})(Kt),ea=Object(h.b)((function(e){return{questionData:e.admin.questionData,totalCount:e.admin.questionCount,topicData:e.admin.topicData}}),{getQuestion:function(e){return function(t){P.a.post(w+"question/listQuestion",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_question.SUCCESS,{questionData:e.data.data,questionCount:e.data.totalCount}))}))}},addQuestion:function(e){return function(t){P.a.post(w+"question/addupdateQuestion",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"question/listQuestion",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_question.SUCCESS,{questionData:e.data.data,questionCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},removeQuestion:function(e){return function(t){P.a.post(w+"question/deleteQuestion",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"question/listQuestion",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_question.SUCCESS,{questionData:e.data.data,questionCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},getTopic:de})($t),ta=(Z.a.confirm,f.a.TextArea),aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t){a.setState({visible:!0,contentId:e}),""!==e&&a.props.form.setFieldsValue({content:t})},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n={content:t.content,contentId:a.state.contentId};e||(a.setState({visible:!1}),a.props.addContent(n))}))},a.handleCancel=function(){a.setState({visible:!1})},a.state={currentPage:0,totalRecord:0,visible:!1,contentData:[],contentId:"",sortValue:"",sortOrder:"",loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getContent(e)}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getContent(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getContent(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.contentData;this.setState({contentData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.contentData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.contentType),s.a.createElement("td",null,t.content),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showModal.bind(e,t._id,t.content)},s.a.createElement("i",{className:"fa fa-pencil"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"CONTENT",subTitle:""}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"contenttype"),className:"cursor-pointer"},"Type ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"content"),className:"cursor-pointer"},"Content ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,a)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Content"},t("content",{rules:[{required:!0,whitespace:!0,message:"Please enter content"}]})(s.a.createElement(ta,{placeholder:"Topic"})))))))))}}]),t}(s.a.Component);var na=g.a.create({name:"content"})(aa),sa=Object(h.b)((function(e){return{contentData:e.admin.contentData,totalCount:e.admin.contentCount}}),{getContent:function(e){return function(t){P.a.post(w+"content/listContent",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_content.SUCCESS,{contentData:e.data.data,contentCount:e.data.totalCount}))}))}},addContent:function(e){return function(t){P.a.post(w+"content/addupdateContent",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"content/listContent",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_content.SUCCESS,{contentData:e.data.data,contentCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}})(na),oa=a(32),ra=a(434),ia=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={currentPage:0,totalRecord:0,search_string:"",adreportData:[],adreportAllData:[],sortValue:"",sortOrder:"",visible:!1,imageUrl:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={search_string:this.state.search_string,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,isAllData:!1};this.props.getAdReports(e);var t={search_string:this.state.search_string,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,isAllData:!0};this.props.getAdReports(t)}},{key:"searchString",value:function(e){this.setState({search_string:e.target.value});var t={search_string:e.target.value,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,isAllData:!1};this.props.getAdReports(t)}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={search_string:this.state.search_string,page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder,isAllData:!1};this.props.getAdReports(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={search_string:this.state.search_string,page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1,isAllData:!1};this.props.getAdReports(t)}},{key:"exportToCSV",value:function(){var e=new ra.ExportToCsv({fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,title:"Ad Report",useTextFile:!1,useBom:!0,useKeysAsHeaders:!0,file_name:"adreport"});if(this.state.totalRecord>5){var t=this.state.adreportAllData.map((function(e){return e._id?Object(oa.a)({},e,{addName:e.ad.name,addType:e.ad.type,userEmail:e.user.email,clickTime:new Date(e.createdAt).toLocaleString()}):e}));t.forEach((function(e){return delete e._id,delete e.createdAt,delete e.updatedAt,delete e.__v,delete e.isDeleted,delete e.user,delete e.ad})),e.generateCsv(t)}else{var a=this.state.adreportData.map((function(e){return e._id?Object(oa.a)({},e,{addName:e.ad.name,addType:e.ad.type,userEmail:e.user.email,clickTime:new Date(e.createdAt).toLocaleString()}):e}));a.forEach((function(e){return delete e._id,delete e.createdAt,delete e.updatedAt,delete e.__v,delete e.isDeleted,delete e.user,delete e.ad})),e.generateCsv(a)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.adreportData;t.length<=5?this.setState({adreportData:t,totalRecord:e.totalCount,loading:!1}):this.setState({adreportAllData:t,loading:!1})}},{key:"render",value:function(){var e=this.state.adreportData.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.ad.name),s.a.createElement("td",null,e.ad.type),s.a.createElement("td",null,e.user.name),s.a.createElement("td",null,e.user.email),s.a.createElement("td",null,new Date(e.createdAt).toLocaleString()))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"Ad Reports",subTitle:"",extra:[s.a.createElement(f.a,{placeholder:"Search",onChange:this.searchString.bind(this),key:"search",style:{width:"auto"}}),s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.exportToCSV.bind(this)},"Export to CSV")]}),s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Ad Name"),s.a.createElement("th",{scope:"col"},"Ad Type"),s.a.createElement("th",{scope:"col"},"User Name"),s.a.createElement("th",{scope:"col"},"User Email"),s.a.createElement("th",{scope:"col"},"Created Date"))),s.a.createElement("tbody",null,e)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,onChange:this.changePage.bind(this),total:this.state.totalRecord?this.state.totalRecord:1}))))}}]),t}(s.a.Component);var la=g.a.create({name:"adreport"})(ia),ca=Object(h.b)((function(e){return{adreportData:e.admin.adreportData,totalCount:e.admin.adreportCount}}),{getAdReports:function(e){return function(t){P.a.post(w+"ad/adReports",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_adreport.SUCCESS,{adreportData:e.data.data,adreportCount:e.data.totalCount}))}))}}})(la),da=a(441),ua=a(930),ma=a(436),pa=a.n(ma),ha=Z.a.confirm,ga=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t){a.setState({visible:!0,isMultiple:t,selectedUserId:e}),a.props.form.setFieldsValue({messageTitle:"",messageDescription:""})},a.handleOk=function(){a.props.form.validateFields((function(e,t){if(!e){var n={messageTitle:t.messageTitle,messageDescription:t.messageDescription,users:[]};a.state.isMultiple?a.state.selectedRows.length>0?(a.state.selectedRows.forEach((function(e){n.users.push(e._id)})),a.props.sendMessage(n)):R.a.warning("Please select user"):(n.users.push(a.state.selectedUserId),a.props.sendMessage(n)),a.setState({visible:!1,isMultiple:!1})}}))},a.handleCancel=function(){a.setState({visible:!1,isMultiple:!1})},a.onSelectChange=function(e,t){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e,selectedRows:t})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,r=t.confirm,i=t.clearFilters;return s.a.createElement("div",{style:{padding:8}},s.a.createElement(f.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,r,e)},style:{width:188,marginBottom:8,display:"block"}}),s.a.createElement(b.a,{type:"primary",onClick:function(){return a.handleSearch(o,r,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),s.a.createElement(b.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return s.a.createElement(E.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return a.state.searchedColumn,e}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.state={currentPage:0,totalRecord:0,search_string:"",userData:[],sortValue:"",sortOrder:"",visible:!1,imageUrl:"",fileObj:"",selectedRowKeys:[],selectedRows:[],selectedUserId:"",isMultiple:!1,searchText:"",searchedColumn:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={search_string:this.state.search_string,page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getAllUsers(e)}},{key:"showConfirm",value:function(e,t){var a=this;if(t)if(this.state.selectedRows.length>0){var n={users:[]};this.state.selectedRows.forEach((function(e){n.users.push(e._id)})),ha({title:U,content:"",onOk:function(){a.props.deleteUsers(n)}})}else R.a.warning("Please select user");else{var s={userId:e};ha({title:U,content:"",onOk:function(){a.props.deleteUser(s)}})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.userData;this.setState({userData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=[Object(oa.a)({title:"Name",dataIndex:"name",sorter:function(e,t){return e.name.length-t.name.length},sortDirections:["descend","ascend"]},this.getColumnSearchProps("name")),Object(oa.a)({title:"Email",dataIndex:"email",sorter:function(e,t){return e.email.length-t.email.length},sortDirections:["descend","ascend"]},this.getColumnSearchProps("email")),{title:"Action",dataIndex:"action",render:function(t,a){return s.a.createElement("span",{style:{color:"blue"}},s.a.createElement("a",{onClick:e.showModal.bind(e,a._id,!1)},"Send Message  "))}}],o=[];a.userData.map((function(e,t){"user"!=e.role.rolename&&"kingbot"!=e.role.rolename||o.push({_id:e._id,key:t,name:e.name,email:e.email,rolename:e.role.rolename})}));var r=this.state.selectedRowKeys,i={selectedRowKeys:r,onChange:this.onSelectChange,hideDefaultSelections:!0,selections:[{key:"all-data",text:"Select All Data",onSelect:function(){e.setState({selectedRowKeys:Object(da.a)(Array(e.state.userData.length).keys())})}}]};r.length;return s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"USERS",subTitle:"",extra:[s.a.createElement(b.a,{onClick:this.showModal.bind(this,"",!0),type:"primary"},"Send Message")]}),s.a.createElement("div",{className:"box-body"},s.a.createElement(ua.a,{rowSelection:i,columns:n,dataSource:o}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"User",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"team-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Message Title"},t("messageTitle",{rules:[{required:!0,whitespace:!0,message:"Please enter title"}]})(s.a.createElement(f.a,{placeholder:"Title"}))),s.a.createElement(g.a.Item,{label:"Message Description"},t("messageDescription",{rules:[{required:!0,whitespace:!0,message:"Please enter description"}]})(s.a.createElement(pa.a,{placeholder:"Description"})))))))}}]),t}(s.a.Component);var fa=g.a.create({name:"messaging"})(ga),Ea=Object(h.b)((function(e){return{userData:e.user.userData,totalCount:e.user.totalCount}}),{getAllUsers:function(e){return function(t){P.a.post(w+"user/listAllUser",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))}))}},deleteUser:Fe,deActivateUser:qe,addUser:Le,verifyUser:Be,sendMessage:function(e){return function(t){P.a.post(w+"user/sendMessage",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"user/listAllUser",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},deleteUsers:function(e){return function(t){P.a.post(w+"user/deleteUsers",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&(R.a.success(e.data.message),P.a.post(w+"user/listAllUser",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(Ge.get_users.SUCCESS,{userData:e.data.data,totalCount:e.data.totalCount}))})))}))}}})(fa),ba=a(133),va=Z.a.confirm,Sa=lt.a.Option,Ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s,o,r){a.setState({visible:!0,adId:e,selectedData:r}),a.props.form.setFieldsValue({name:t,type:n,redirectUrl:s,mediaType:o})},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n={name:t.name,type:t.type,redirectUrl:t.redirectUrl,mediaType:t.mediaType,adId:a.state.adId},s=new FormData;a.state.fileList.forEach((function(e){s.append("files",e)})),s.append("name",n.name),s.append("type",n.type),s.append("redirectUrl",n.redirectUrl),s.append("mediaType",n.mediaType),s.append("adId",n.adId),e||(a.setState({visible:!1,fileList:[]}),a.props.addAd(s))}))},a.handleMediaChange=function(e){"uploading"!==e.file.status&&e.file.status},a.upload=function(e){},a.handleBeforeUpload=function(e){return a.setState({fileList:[]}),a.setState({fileList:[e]}),!1},a.handleCancel=function(){a.setState({visible:!1,fileList:[]})},a.state={currentPage:0,totalRecord:0,visible:!1,adData:[],adId:"",selectedData:{},sortValue:"",sortOrder:"",selectMediaTypeData:[],selectedMediaType:"",fileList:[],loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({selectMediaTypeData:[{name:"image"},{name:"gif"},{name:"video"}]});var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getAd(e)}},{key:"showConfirm",value:function(e){var t=this,a={adId:e};va({title:U,content:"",onOk:function(){t.props.removeAd(a)},onCancel:function(){}})}},{key:"handleMediaTypeSelect",value:function(e){console.log("value",e);this.setState({selectedMediaType:e})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getAd(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getAd(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.adData;this.setState({adData:t,totalRecord:e.totalCount,loading:!1})}},{key:"render",value:function(){var e,t=this,a=this.props.form.getFieldDecorator,n=this.state.adData.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.type),s.a.createElement("td",null,e.mediaType),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:t.showModal.bind(t,e._id,e.name,e.type,e.redirectUrl,e.mediaType,e)},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:t.showConfirm.bind(t,e._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"AD",subTitle:"",extra:[s.a.createElement(b.a,{key:"1",type:"primary",onClick:this.showModal.bind(this,"","","","","","")},"Add Ad")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"name"),className:"cursor-pointer"},"Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"type"),className:"cursor-pointer"},"Type ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"mediaType"),className:"cursor-pointer"},"Media Type ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,n)),s.a.createElement(xe.a,{style:{textAlign:"right"},pageSize:5,defaultCurrent:this.state.currentPage,total:this.state.totalRecord?this.state.totalRecord:1,onChange:this.changePage.bind(this)}),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:this.state.selectedData?"Edit Ad":"Add Ad",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Name"},a("name",{rules:[{required:!0,whitespace:!0,message:"Please enter name"}]})(s.a.createElement(f.a,{placeholder:"name"}))),s.a.createElement(g.a.Item,{label:"Type"},a("type",{rules:[{required:!0,whitespace:!0,message:"Please enter type"}]})(s.a.createElement(f.a,{placeholder:"Type"}))),s.a.createElement(g.a.Item,{label:"Redirect Url"},a("redirectUrl",{rules:[{required:!0,whitespace:!0,message:"Please enter redirect url"}]})(s.a.createElement(f.a,{placeholder:"Redirect Url"}))),s.a.createElement(g.a.Item,{label:"Select Media Type"},a("mediaType",{rules:[{required:!0,whitespace:!0,message:"Please select media type"}]})(s.a.createElement(lt.a,{style:{width:200},onChange:this.handleMediaTypeSelect.bind(this)},this.state.selectMediaTypeData.map((function(e,t){return s.a.createElement(Sa,{value:e.name},e.name)}))))),s.a.createElement(_e.a,(e={name:"file",showUploadList:!0,action:this.upload},Object(ba.a)(e,"showUploadList",this.state.fileList.length>0),Object(ba.a)(e,"beforeUpload",this.handleBeforeUpload),Object(ba.a)(e,"onChange",this.handleMediaChange),e),s.a.createElement(b.a,{disabled:this.state.fileList.length>0},s.a.createElement(E.a,{type:"upload"})," Click to Upload")),this.state.adId&&this.state.fileList.length<=0?s.a.createElement("div",{class:"ant-upload-list ant-upload-list-text"},s.a.createElement("div",{class:""},s.a.createElement("span",null,s.a.createElement("div",{class:"ant-upload-list-item ant-upload-list-item-undefined ant-upload-list-item-list-type-text"},s.a.createElement("div",{class:"ant-upload-list-item-info"},s.a.createElement("span",null,s.a.createElement("i",{"aria-label":"icon: paper-clip",class:"anticon anticon-paper-clip"},s.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",class:"","data-icon":"paper-clip",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s.a.createElement("path",{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0 0 12.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0 0 12.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 0 0 174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}))),s.a.createElement("span",{class:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:"TopSport_Bnr_02.mp4"},this.state.selectedData.media))))))):null))))))}}]),t}(s.a.Component);var Da=g.a.create({name:"ad"})(Ca),ya=Object(h.b)((function(e){return{adData:e.admin.adData,totalCount:e.admin.adCount}}),{getAd:function(e){return function(t){P.a.post(w+"ad/listAd",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_ad.SUCCESS,{adData:e.data.data,adCount:e.data.totalCount}))}))}},addAd:function(e){return function(t){P.a.post(w+"ad/addUpdateAd",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message),P.a.post(w+"ad/listAd",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_ad.SUCCESS,{adData:e.data.data,adCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}},removeAd:function(e){return function(t){P.a.post(w+"ad/deleteAd",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);P.a.post(w+"ad/listAd",{page:0},{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_ad.SUCCESS,{adData:e.data.data,adCount:e.data.totalCount}))}))}else 201===e.data.code&&R.a.warning(e.data.message)}))}}})(Da),wa=a(131),Oa=Z.a.confirm,ka=(lt.a.Option,wa.a.Group,J.a.RangePicker),Ta=[],Na=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showModal=function(e,t,n,s){a.setState({visible:!0,sportId:e}),""!==e?(a.setState({isSportUpdate:!0}),a.props.form.setFieldsValue({sportname:t,description:n,seasonId:s})):a.props.form.resetFields()},a.handleOk=function(){a.props.form.validateFields((function(e,t){var n=Object(Ze.a)(a),s={seasonname:t.seasonname,startDate:t.date[0].format(),endDate:t.date[1].format(),sport:t.sport};e?Oa({title:"Pleasse enter details",onOk:function(){},onCancel:function(){}}):""==t||Oa({title:"Adding Season you can't editable so please confirm",onOk:function(){console.log("obj isss",s),n.props.addSeason(s),n.setState({visible:!1}),n.props.form.resetFields()},onCancel:function(){}})}))},a.handleCancel=function(){a.setState({visible:!1})},a.onChange=function(e){console.log("checked = ".concat(e))},a.state={currentPage:0,totalRecord:0,visible:!1,sportData:[],sportId:"",sortValue:"",sortOrder:"",loading:!0,seasonData:[],selectedSport:[],checked:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSeason(e),this.props.getSport({count:1e3})}},{key:"showConfirm",value:function(e){var t=this,a={sportId:e};Oa({title:U,content:"",onOk:function(){t.props.removeSport(a)},onCancel:function(){}})}},{key:"showConfirmResetPoints",value:function(e){var t=this,a={params:{sportId:e}};Oa({title:"Do you want to reset game points?",content:"",onOk:function(){t.props.resetGamePoints(a)},onCancel:function(){}})}},{key:"changePage",value:function(e,t){this.setState({currentPage:e-1});var a={page:e-1,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}},{key:"sortData",value:function(e){this.setState({sortOrder:-1===this.state.sortOrder?1:-1});var t={page:this.state.currentPage,sortValue:e,sortOrder:-1===this.state.sortOrder?1:-1};this.props.getSport(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.sportData;this.setState({sportData:t,loading:!1});var a=e.seasonData;this.setState({seasonData:a,totalRecord:e.totalCount,loading:!1})}},{key:"handleMenuClick",value:function(e){var t={seasonId:e};if(""==t.seasonId){var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSport(a)}else this.props.getSport(t)}},{key:"showSessionConfirm",value:function(){var e=this;this.state.sportData.map((function(t){return e.setState({selectedSport:t.sportname})})),this.setState({visible:!0})}},{key:"blockSeason",value:function(e){var t={seasonId:e};this.props.blockSeason(t);var a={page:this.state.currentPage,sortValue:this.state.sortValue,sortOrder:this.state.sortOrder};this.props.getSeason(a)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.seasonData.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.seasonname),s.a.createElement("td",null,t.startDate),s.a.createElement("td",null,t.endDate),s.a.createElement("td",null,s.a.createElement(Ve.a,{checked:t.isActive,onChange:e.blockSeason.bind(e,t._id)})," "),s.a.createElement("td",null,s.a.createElement(b.a,{className:"btn btn-info btn-sm mr-2",onClick:e.showConfirm.bind(e,t._id)},s.a.createElement("i",{className:"fa fa-trash"}))))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"box box-default mb-4"},s.a.createElement(Me.a,{title:"Season",subTitle:"",extra:[s.a.createElement(b.a,{type:"primary",onClick:this.showSessionConfirm.bind(this),style:{float:"right"}},"Start New Season")]}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sportname"),className:"cursor-pointer"},"Season Name ",1===this.state.sortOrder?s.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"})),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sportname"),className:"cursor-pointer"},"Start Date "),s.a.createElement("th",{scope:"col",onClick:this.sortData.bind(this,"sportname"),className:"cursor-pointer"},"End Date "),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,a)),s.a.createElement(ee,{handleCancel:this.handleCancel,handleOk:this.handleOk,visible:this.state.visible,title:"Season",backBtnText:"Back",submitBtnText:"Submit"},s.a.createElement(g.a,{className:"sport-form l_hgt0"},s.a.createElement(g.a.Item,{label:"Season Name"},t("seasonname",{rules:[{required:!0,whitespace:!0,message:"Please enter Season name"}]})(s.a.createElement(f.a,{placeholder:"Enter Season Name"}))),s.a.createElement(g.a.Item,{label:"Select start date and end date"},t("date",{rules:[{required:!0,message:"Please enter date range"}]})(s.a.createElement(ka,{disabled:this.state.isRoundUpdate,placeholder:"Date"}))),s.a.createElement(g.a.Item,{label:"Sport List",name:"sport-list"},t("sport",{rules:[{required:!0}]})(s.a.createElement(wa.a.Group,{options:this.state.sportData.map((function(e){return{label:e.sportname,value:e.sportname}})),onChange:this.onChange,defaultValue:Ta,checked:!0})))))))))}}]),t}(s.a.Component);var ja=g.a.create({name:"season"})(Na),Ia=Object(h.b)((function(e){return{sportData:e.admin.sportData,totalCount:e.admin.sportCount,seasonData:e.admin.seasonData}}),{getSport:se,addSport:oe,removeSport:re,resetGamePoints:ie,getSeason:ue,getSportSeason:function(e){return function(t){P.a.post(w+"sport/Filter",e,{headers:N(0,"application/json")}).then((function(e){if(200===e.data.code){R.a.success(e.data.message);t(k(ne.get_sport.SUCCESS,{sportData:e.data.data,sportCount:e.data.totalCount}))}else 201==e.data.code&&R.a.warning(e.data.message)}))}},addSeason:me,removeSeason:pe,blockSeason:function(e){return function(t){P.a.post(w+"season/blockSeason",e,{headers:N(0,"application/json")}).then((function(a){200===a.data.code?(P.a.post(w+M,e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_season.SUCCESS,{seasonData:e.data.data,seasonCount:e.data.totalCount}))})),R.a.success(a.data.message)):R.a.error(a.data.message)}))}}})(ja),Pa=lt.a.Option,Aa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={seasonDetails:"",loading:!1,page:0,imageUrl:"",visible:!1,roundData:[]},Xe()(Object(Ze.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={seasonId:this.props.match.params.seasonId};console.log("obj-------------",e),this.props.getSeasonDetails(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({seasonDetails:e.seasonDetails,loading:!1});var t=e.roundData;this.setState({roundData:t,loading:!1})}},{key:"handleMenuClick2",value:function(e){var t={sportId:e};console.log("obj obj ",t),this.props.getRound(t),console.log("roundlist",this.state.roundData)}},{key:"render",value:function(){var e=this.state,t=e.seasonDetails?e.seasonDetails:"";this.props.form.getFieldDecorator;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"overflowBox"},s.a.createElement(Me.a,{title:"SEASON PROFILE ",subTitle:""}),s.a.createElement(ct.a,{spinning:this.state.loading,delay:500},s.a.createElement("div",{className:"box box-default mb-4"},console.log(t),s.a.createElement(X.a,null,s.a.createElement(z.a,{style:{height:"10vh"},span:24},s.a.createElement(K.a,{style:{border:"none"},className:"mb-4"},s.a.createElement($.a,{title:"Season Name :-",value:t.seasonname,precision:0}))),s.a.createElement(z.a,{style:{height:"12vh"},span:24},s.a.createElement(K.a,{style:{border:"none"},className:"mb-4"},s.a.createElement("div",{class:"ant-statistic"},s.a.createElement("div",{class:"ant-statistic-title"},"Season Sport List :-"),s.a.createElement("div",{class:"ant-statistic-content"},s.a.createElement(lt.a,{placeholder:"Season",style:{width:300},onChange:this.handleMenuClick2.bind(this)},""==t?"":t.sport.map((function(e,t){return s.a.createElement(Pa,{value:e._id},e.sportname)}))))))),s.a.createElement(z.a,{style:{height:"12vh"},span:24},s.a.createElement(K.a,{style:{border:"none"},className:"mb-4"},s.a.createElement("div",{class:"ant-statistic"},s.a.createElement("div",{class:"ant-statistic-title"},console.log("round List",this.state.roundData),"Sport Round List :-"),s.a.createElement("div",{class:"ant-statistic-content"},s.a.createElement(lt.a,{placeholder:"Season",style:{width:300}},""==this.state.roundData?"":this.state.roundData.map((function(e,t){return s.a.createElement(Pa,{value:e._id},e.roundname)}))),s.a.createElement(b.a,{style:{marginLeft:"20px"},type:"primary"},"Add Round"))))))))))}}]),t}(n.Component);var Ra=g.a.create({name:"setting"})(Aa),Ua=Object(h.b)((function(e){return{seasonDetails:e.admin.seasonDetails,roundData:e.admin.roundData}}),{getSeasonDetails:function(e){return function(t){P.a.post(w+"season/getTeamDetail",e,{headers:N(0,"application/json")}).then((function(e){200===e.data.code&&t(k(ne.get_seasonDetails.SUCCESS,{seasonDetails:e.data.data}))}))}},getRound:ce})(Ra),Va=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location.pathname.split("/")[2],a=["/","/signin","/signup","/forgot","/resetPassword/"+t,"/verifyEmail/"+t,"/test"],n=!!localStorage.access_token;return a.indexOf(e.location.pathname)>-1?s.a.createElement(p.d,null,s.a.createElement(W,{exact:!0,path:"/",component:Q}),s.a.createElement(W,{path:"/forgot",component:nt}),s.a.createElement(W,{path:"/resetPassword/:resetKey",component:it})):s.a.createElement(Ue,{user:e.userInfo},s.a.createElement(p.d,null,s.a.createElement(H,{path:"/dashboard",component:ve,user:n}),s.a.createElement(H,{path:"/users",component:He,user:n}),s.a.createElement(H,{path:"/userprofile/:userId",component:$e,user:n}),s.a.createElement(H,{path:"/season",component:Ia,user:n}),s.a.createElement(H,{path:"/seasondetail/:seasonId",component:Ua,user:n}),s.a.createElement(H,{path:"/sport",component:ht,user:n}),s.a.createElement(H,{path:"/team",component:Bt,user:n}),s.a.createElement(H,{path:"/teamdetail/:teamId",component:Qt,user:n}),s.a.createElement(H,{path:"/bonus",component:bt,user:n}),s.a.createElement(H,{path:"/round",component:Ot,user:n}),s.a.createElement(H,{path:"/game",component:At,user:n}),s.a.createElement(H,{path:"/competition",component:Mt,user:n}),s.a.createElement(H,{path:"/topics",component:Zt,user:n}),s.a.createElement(H,{path:"/questions",component:ea,user:n}),s.a.createElement(H,{path:"/content",component:sa,user:n}),s.a.createElement(H,{path:"/adreport",component:ca,user:n}),s.a.createElement(H,{path:"/messaging",component:Ea,user:n}),s.a.createElement(H,{path:"/ads",component:ya,user:n})))}}]),t}(n.Component);var Ma=Object(h.b)((function(e){return{}}))(Va),xa=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(p.c,{history:m},s.a.createElement(p.b,{component:Ma}))}}]),t}(n.Component);var _a=function(){return s.a.createElement(xa,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ga=a(135),Fa=a(437),Ba=a(933),qa={userData:[],userDetails:"",totalCount:0},La={sportData:[],sportCount:0,dashboardCounts:"",graphStats:[],teamData:[],teamCount:0,teamDetails:"",bonusData:[],bonusCount:0,roundData:[],roundCount:0,gameData:[],gameCount:0,topicData:[],topicCount:0,questionData:[],questionCount:0,contentData:[],contentCount:0,userData:[],userCount:0,competitionData:[],competitionCount:0,settingData:{},adreportData:[],adreportCount:0,seasonData:[],seasonCount:0,seasonDetails:""},Qa=Object(Ga.b)({form:Ba.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ge.get_users.SUCCESS:return Object(oa.a)({},e,{userData:n.userData,totalCount:n.totalCount});case Ge.get_userDetails.SUCCESS:return Object(oa.a)({},e,{userDetails:n.userDetails});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ne.get_sport.SUCCESS:return Object(oa.a)({},e,{sportData:n.sportData,sportCount:n.sportCount});case ne.admin_counts.SUCCESS:return Object(oa.a)({},e,{dashboardCounts:n.dashboardCounts});case ne.get_team.SUCCESS:return Object(oa.a)({},e,{teamData:n.teamData,teamCount:n.teamCount});case ne.get_teamDetails.SUCCESS:return Object(oa.a)({},e,{teamDetails:n.teamDetails});case ne.get_bonus.SUCCESS:return Object(oa.a)({},e,{bonusData:n.bonusData,bonusCount:n.bonusCount});case ne.get_round.SUCCESS:return Object(oa.a)({},e,{roundData:n.roundData,roundCount:n.roundCount});case ne.get_game.SUCCESS:return Object(oa.a)({},e,{gameData:n.gameData,gameCount:n.gameCount});case ne.get_topic.SUCCESS:return Object(oa.a)({},e,{topicData:n.topicData,topicCount:n.topicCount});case ne.get_question.SUCCESS:return Object(oa.a)({},e,{questionData:n.questionData,questionCount:n.questionCount});case ne.get_content.SUCCESS:return Object(oa.a)({},e,{contentData:n.contentData,contentCount:n.contentCount});case ne.get_competition.SUCCESS:return Object(oa.a)({},e,{competitionData:n.competitionData,competitionCount:n.competitionCount});case ne.get_user.SUCCESS:return Object(oa.a)({},e,{userData:n.userData,userCount:n.userCount});case ne.get_setting.SUCCESS:return Object(oa.a)({},e,{settingData:n.settingData});case ne.get_adreport.SUCCESS:return Object(oa.a)({},e,{adreportData:n.adreportData,adreportCount:n.adreportCount});case ne.get_ad.SUCCESS:return Object(oa.a)({},e,{adData:n.adData,adCount:n.adCount});case ne.get_comp.SUCCESS:return Object(oa.a)({},e,{compData:n.compData,compCount:n.compCount});case ne.get_season.SUCCESS:return Object(oa.a)({},e,{seasonData:n.seasonData,seasonCount:n.seasonCount});case ne.get_seasonDetails.SUCCESS:return Object(oa.a)({},e,{seasonDetails:n.seasonDetails});default:return e}}}),Ya=Object(Ga.d)(Qa,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(Ga.c)(Object(Ga.a)(Fa.a)));r.a.render(s.a.createElement(h.a,{store:Ya},s.a.createElement(_a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[447,1,2]]]);
//# sourceMappingURL=main.7d7c267e.chunk.js.map